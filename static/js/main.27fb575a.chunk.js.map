{"version":3,"sources":["components/common/Button/Button.module.css","utils/validators.ts","components/common/Button/Button.tsx","utils/json-helper.ts","utils/selectors/users-selectors.ts","components/Footer/Footer.module.css","components/MainWrapper/MainWrapper.module.css","components/MainWrapper/Navigation/SmallInfo/SmallInfo.module.css","components/common/preloader/Preloader.module.css","Redux/dialogsReducer.tsx","Redux/profileReducer.ts","Redux/consts.ts","Redux/usersReducer.ts","components/MainWrapper/Chat/Chat.module.css","images/face.png","Redux/authReducer.tsx","components/common/FormattedMessage/FormattedMessage.tsx","reportWebVitals.ts","Redux/navBarReducer.ts","Redux/appReducer.tsx","sagas/appSagas.ts","api/instance.ts","api/usersAPI.ts","sagas/usersSagas.ts","api/profileAPI.ts","sagas/profileSagas.ts","api/securityAPI.ts","api/authAPI.ts","sagas/authSagas.ts","api/newsAPI.ts","sagas/newsSagas.ts","api/dialogsAPI.ts","sagas/dialogsSagas.ts","sagas/rootSaga.ts","Redux/chatReducer.tsx","Redux/reduxStore.ts","components/Footer/Footer.tsx","components/MainWrapper/Navigation/SmallInfo/SmallInfo.tsx","components/MainWrapper/Navigation/NavigationBar.tsx","components/MainWrapper/Navigation/NavigationBar.container.tsx","components/MainWrapper/Chat/Websocket.ts","utils/selectors/chat-selectors.ts","components/MainWrapper/Chat/WebsocketNewMessage/WebsocketMessage/WebSocketMessage.tsx","components/MainWrapper/Chat/WebsocketNewMessage/WebsocketNewMessagesForm.tsx","components/MainWrapper/Chat/Chat.tsx","components/MainWrapper/MainWrapper.tsx","components/Header/Header.tsx","images/5a3a185132ceb1.89894673151375675320812609.png","components/Header/HeaderContainer.tsx","App.tsx","index.tsx","utils/selectors/auth-selectors.ts","components/common/errors/Error_404/Error_404.tsx","components/common/routes/Routes.tsx","Redux/news-reducer.tsx","components/MainWrapper/Navigation/NavigationBar.module.css","components/common/errors/Error_404/Error_404.module.css","components/Header/Header.module.css","utils/selectors/news-selectors.tsx","utils/selectors/dialogs-selectors.ts","components/common/formsContols/FormControls.module.css","images/285 (1).gif","components/common/preloader/Preloader.tsx","utils/selectors/nav-selectors.ts","utils/selectors/index.tsx","utils/selectors/profile-selectors.ts","components/common/formsContols/FormControls.tsx"],"names":["module","exports","requiredField","value","trim","undefined","maxInputLength","length","Button","text","small","children","restProps","className","style","mainButton","_id","jsonMacros","JSON","parse","stringify","data","getUsers","state","usersReducer","users","getTotalCount","totalCount","getPageSize","pageSize","getPortionNumber","portionNumber","getCurrentPage","currentPage","getIsFetching","isFetching","getIsRequestSendUserId","isRequestSendUsersId","getUsersDifficult","createSelector","map","u","status","statusText","followed","commonUsersSelector","actionsDialogs","addDialogsMessage","self","item","type","DIALOGS","ADD_DIALOGS_MESSAGE","payload","toDialogSaga","id","START_DIALOG_SAGA","getDialogs","GET_DIALOGS_SAGA","getMessages","page","GET_MESSAGES_SAGA","postMessage","message","POST_MESSAGE_SAGA","setMessages","messages","totalResults","SET_MESSAGES","setDialogs","dialogs","SET_DIALOGS","deleteMessage","messageId","DELETE_MESSAGE_SAGA","toViewedMessage","IS_MESSAGE_VIEWED_SAGA","toSpamMessage","TO_SPAM_MESSAGE_SAGA","setIsFetching","SET_IS_FETCHING","setPage","SET_PAGE","setPageSize","SET_PAGE_SIZE","setPortionNumber","SET_PORTION_NUMBER","initialState","dialogsReducer","action","actionsProfile","friendCheckSaga","userId","PROFILE","FRIENDLY_CHECK_SAGA","addPost","ADD_POST","openSet","isOpen","IS_OPEN_MENU_FROM_PROFILE","setUserProfile","user","SET_USER_PROFILE","changeIsFetchingFromProfile","CHANGE_IS_FETCHING_FROM_PROFILE","setStatusAC","CHANGE_STATUS","savePhotosSuccess","photos","SAVE_PHOTO_FROM_PROFILE","getStatusProfileSaga","userID","GET_STATUS_FROM_PROFILE_SAGA","updateStatusProfileSaga","UPDATE_STATUS_FROM_PROFILE_SAGA","savePhotoProfileSaga","file","SAVE_PHOTO_FROM_PROFILE_SAGA","saveNewProfileSaga","model","SAVE_NEW_PROFILE_SAGA","getProfileSaga","userIdForURL","GET_PROFILE_SAGA","setIsFriend","isFriend","SET_IS_FRIEND_PROFILE_SAGA","setFriendLyStatusSaga","SET_FRIENDLY_FROM_PROFILE_SAGA","isOpenMenu","profile","aboutMe","lookingForAJob","lookingForAJobDescription","fullName","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","large","myPostArray","profileSelfPhotoImgUrl","selfPhoto","profileReducer","newPost","unshift","USERS","APP","AUTH","NEWS","WEBSOCKET","actionsUsers","followSaga","FOLLOW_SAGA","unfollowSaga","UNFOLLOW_SAGA","followActionCreator","FOLLOW","unFollowActionCreator","UN_FOLLOW","addMoreUsersActionCreator","ADD_MORE_USERS","changeCurrentPageActionCreator","CHANGE_CURRENT_PAGE","changeTotalCountActionCreator","CHANGE_TOTAL_COUNT","changeIsFetchingActionCreator","CHANGE_IS_FETCHING_FROM_USERS","sendRequestFromFollowUnFollowActionCreator","SENDING_REQUEST_FROM_FOLLOW_UNFOLLOW","setCurrentPage","SET_CURRENT_PAGE_FROM_USERS","portion","SET_PORTION_PAGE_FROM_USERS","getUsersSaga","userName","GET_USERS_SAGA","filter","actionsAuth","setError","SET_AUTH_NETWORK_ERROR","getCaptchaSaga","GET_CAPTCHA_SAGA","logoutSaga","LOGOUT_SAGA","loginSaga","email","password","rememberMe","captcha","LOGIN_SAGA","setUserFromAuthSaga","isAuth","SET_USER_FROM_AUTH_SAGA","setUserData","SET_USER_DATA","getCaptchaUrlSuccess","captchaURL","GET_CAPTCHA_URL_SUCCESS","error","login","authReducer","FormattedMessage","props","jsonObj","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","friendsIcons","name","photoUrl","photo","navLinkBar","navBarReducer","actionsApp","setInitializedSuccess","SET_INITIALIZED","initializeSaga","INITIALIZE_SAGA","isInitialized","appReducer","initializeSagaWorker","initializeSagaWatcher","put","takeLatest","instanceSamuraiAPI","axios","create","baseURL","withCredentials","headers","UsersAPI","get","delete","post","getUsersSagaWorker","followSagaWorker","unfollowWorker","getUsersSagaWatcher","followSagaWatcher","unfollowSagaWatcher","call","response","items","Error","resultCode","console","warn","ProfileAPI","photoFile","formData","FormData","append","getStatusSagaWorker","updateStatusFromProfileSagaWorker","savePhotoFromProfileSagaWorker","saveNewProfileSagaWorker","getProfileSagaWorker","friendCheckWorker","setFriendlyStatus","getStatusSagaWatcher","setFriendlySagaWatcher","friendCheckSagaWatcher","updateStatusFromProfileSagaWatcher","savePhotoFromProfileSagaWatcher","saveNewProfileSagaWatcher","getProfileSagaWatcher","stopSubmit","_error","Promise","reject","securityAPI","AuthAPI","getCaptchaSagaWorker","setUserFromAuthSagaWorker","loginSagaWorker","logoutSagaWorker","getCaptchaSagaWatcher","loginSagaWatcher","logoutSagaWatcher","setUserFromAuthSagaWatcher","url","NEWS_API_KEY","NewsAPI","dateFull","theme","date","getFullYear","getMonth","getDate","getNewsSagaWorker","getNewsSagaWatcher","select","newsPageSizeSelector","newsPageSelector","actionsNews","Date","articles","setNews","log","GET_NEWS_SAGA","DialogsAPI","count","body","startDialogSagaWorker","getDialogsSagaWorker","getMessagesSagaWorker","postMessageSagaWorker","deleteMessageSagaWorker","toSpamMessageSagaWorker","toViewedMessageSagaWorker","deleteMessageSagaWatcher","toViewedSagaWatcher","toSpamMessageSagaWatcher","postMessageSagaWatcher","startDialogSagaWatcher","getMessagesSagaWatcher","getDialogsSagaWatcher","messagesPageSizeSelector","messagesPageSelector","rootSaga","all","actionsChat","chatReducer","rootReducer","combineReducers","form","formReducer","auth","app","news","newsReducer","chat","sagaMiddleware","createSagaMiddleware","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunkMiddleware","store","createStore","run","Footer","React","memo","s","footer","SmallInfo","profileName","isOwner","useSelector","isOwnerSelector","ownerId","getOwnerId","smallInfo","to","PATH","NavigationBar","navLinkBlock","i","friendsIconsBlock","f","iconBlock","backGroundBlock","src","navigationBar","NavElements","activeFriends","NavigationBarAPIContainer","this","PureComponent","NavigationBarContainer","connect","selectors","navSelectors","getNavLinkBar","getFriendsIcons","authSelectors","getProfileName","wsConnect","ws","WebSocket","onopen","onmessage","e","onclose","reason","setTimeout","onerror","err","close","WebSocketMessage","messageFrame","description","alt","toString","Form","handleSubmit","disabled","onSubmit","createField","Textarea","WebsocketNewMessagesForm","reduxForm","Chat","useState","isActive","setIsActive","setWS","getMessagesSelector","dispatch","useDispatch","chatRef","useRef","setMessagesCallback","newMessages","useEffect","onListener","messageEvent","addEventListener","removeEventListener","current","scrollTo","scrollHeight","mappedMessages","m","uuidv4","chatWrapper","active","onClick","classNames","title","activeTitle","activeChat","ref","readyState","CLOSED","newMessageBody","send","reset","MainWrapper","getIsAuth","mainWrapper","Routes","Header","wrapperHeader","circle","headerString","loginBlock","loginSpan","logout","HeaderContainer","App","initialize","Preloader","Component","withRouter","rerenderEntireThree","ReactDOM","render","StrictMode","document","getElementById","subscribe","getMyLoginId","getAuthError","getProfileId","profileId","Error_404","mainbox","far","err2","msg","href","Profile","lazy","Dialogs","Users","NewsFeed","AudioPage","Settings","Login","SLASH","AUDIO","SETTINGS","LOGIN","ERROR_UNKNOWN_PAGE","fallback","exact","path","getNewsSaga","SET_NEWS","newsPortionNumberSelector","newsIsFetchingSelector","newsTotalCountSelector","newsArticlesSelector","messagesPortionNumberSelector","messagesIsFetchingSelector","messagesTotalCountSelector","getFullName","difficultGetMessagesSelector","commonMessagesPaginatorSelector","commonDialogsSelector","paginatorProps","preloader","newsSelectors","dialogsSelectors","usersSelectors","profileSelectors","getProfile","getIsFetchingProfile","getIsOpenMenuProfile","getPhotosProfile","FormControl","hasError","meta","touched","textArea","input","Input","placeholder","validators","component","validate","span"],"mappings":"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","file":"static/js/main.27fb575a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainButton\":\"Button_mainButton__12rK6\",\"small\":\"Button_small__3hwoO\"};","export const requiredField= (value:string):string|undefined => {\r\n    if (value) {\r\n        return value.trim() ? undefined : 'error';\r\n    } else return 'error'\r\n}\r\nexport const maxInputLength=(length:number)=> (value:string):string|undefined => {\r\n    if (value.length > length) return  `max length is ${length} symbols`;\r\n        return undefined;\r\n}","import React,{ButtonHTMLAttributes, DetailedHTMLProps} from 'react';\r\n\r\nimport style from './Button.module.css'\r\nimport {FormattedMessage} from \"../FormattedMessage/FormattedMessage\";\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n\r\ntype PropsType = DefaultButtonPropsType & {\r\n    text?:string\r\n    small?:boolean\r\n}\r\n\r\n\r\nconst Button:React.FC<PropsType> =({text,small,children=false,...restProps}) => {\r\n    return (\r\n        <div className={`${style.mainButton} ${small && style.small}`}>\r\n            <button  {...restProps}>{text || children || <FormattedMessage _id='button.empty'/>}</button>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default Button;","import data from '../variables/en.json'\r\n\r\nexport const jsonMacros = (_id:string) => {\r\n\r\n    const jsonObj = JSON.parse ( JSON.stringify ( data ) );\r\n\r\n    return  jsonObj[_id]\r\n\r\n};\r\n","import {AppStateType} from \"../../Redux/reduxStore\";\r\nimport {createSelector} from \"reselect\";\r\n\r\n\r\nexport const getUsers = (state: AppStateType) => state.usersReducer.users;\r\nexport const getTotalCount = (state: AppStateType) => state.usersReducer.totalCount;\r\nexport const getPageSize = (state: AppStateType) => state.usersReducer.pageSize;\r\nexport const getPortionNumber = (state: AppStateType) => state.usersReducer.portionNumber;\r\nexport const getCurrentPage = (state: AppStateType) => state.usersReducer.currentPage;\r\nexport const getIsFetching = (state: AppStateType) => state.usersReducer.isFetching;\r\nexport const getIsRequestSendUserId = (state: AppStateType) => state.usersReducer.isRequestSendUsersId;\r\n\r\nexport const getUsersDifficult = createSelector ( getUsers, (users) => {\r\n    return users.map ( u => {\r\n        const status = u.status && u.status;\r\n        const statusText = status\r\n            ? status\r\n            : u.followed\r\n                ? \"users.status.empty.follow\"\r\n                : \"users.status.empty.unfollow\";\r\n        return {\r\n            ...u,\r\n            status: statusText,\r\n        };\r\n    } );\r\n} );\r\n\r\n\r\nexport const commonUsersSelector = createSelector ( [\r\n        getUsersDifficult,\r\n        getTotalCount,\r\n        getPageSize,\r\n        getPortionNumber,\r\n        getCurrentPage,\r\n        getIsFetching,\r\n        getIsRequestSendUserId],\r\n    (users,\r\n     totalCount,\r\n     pageSize,\r\n     portionNumber,\r\n     currentPage,\r\n     isFetching,\r\n     isRequestSendUsersId) => {\r\n        return {\r\n            users,\r\n            totalCount,\r\n            pageSize,\r\n            portionNumber,\r\n            currentPage,\r\n            isFetching,\r\n            isRequestSendUsersId,\r\n        };\r\n    } );\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1CJG-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapper\":\"MainWrapper_mainWrapper__351Nn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"smallInfo\":\"SmallInfo_smallInfo__IxLKh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2xmF6\"};","import {InferActionsType} from \"./reduxStore\";\r\nimport {DIALOGS} from \"./consts\";\r\nimport {IDialogs, IMessage} from \"../api/dialogsAPI\";\r\n\r\n//ac\r\nexport const actionsDialogs = {\r\n    addDialogsMessage: (self: boolean, item: string) => {\r\n        return {type: DIALOGS.ADD_DIALOGS_MESSAGE, payload: {self, item}} as const;\r\n    },\r\n    toDialogSaga: (id: number) => {\r\n        return {type: DIALOGS.START_DIALOG_SAGA, payload: {id}} as const;\r\n    },\r\n    getDialogs: () => {\r\n        return {type: DIALOGS.GET_DIALOGS_SAGA, payload: {}} as const;\r\n    },\r\n    getMessages: (id: number, page: number = 1) => {\r\n        return {type: DIALOGS.GET_MESSAGES_SAGA, payload: {id, page}} as const;\r\n    },\r\n    postMessage: (id: number, message: string) => {\r\n        return {type: DIALOGS.POST_MESSAGE_SAGA, payload: {id, message}} as const;\r\n    },\r\n    setMessages: (messages: Array<IMessage>, totalResults: number) => {\r\n        return {type: DIALOGS.SET_MESSAGES, payload: {messages, totalResults}} as const;\r\n    },\r\n    setDialogs: (dialogs: Array<IDialogs>) => {\r\n        return {type: DIALOGS.SET_DIALOGS, payload: {dialogs}} as const;\r\n    },\r\n    deleteMessage: (id: number, messageId: string) => {\r\n        return {type: DIALOGS.DELETE_MESSAGE_SAGA, payload: {id, messageId}} as const;\r\n    },\r\n    toViewedMessage: (id: number, messageId: string) => {\r\n        return {type: DIALOGS.IS_MESSAGE_VIEWED_SAGA, payload: {id, messageId}} as const;\r\n    },\r\n    toSpamMessage: (id: number, messageId: string) => {\r\n        return {type: DIALOGS.TO_SPAM_MESSAGE_SAGA, payload: {id, messageId}} as const;\r\n    },\r\n    setIsFetching: (isFetching: boolean) => {\r\n        return {type: DIALOGS.SET_IS_FETCHING, payload: {isFetching}} as const;\r\n    },\r\n    setPage: (page: number) => {\r\n        return {type: DIALOGS.SET_PAGE, payload: {page}} as const;\r\n    },\r\n    setPageSize: (pageSize: number) => {\r\n        return {type: DIALOGS.SET_PAGE_SIZE, payload: {pageSize}} as const;\r\n    },\r\n    setPortionNumber: (portionNumber: number) => {\r\n        return {type: DIALOGS.SET_PORTION_NUMBER, payload: {portionNumber}} as const;\r\n    },\r\n\r\n\r\n};\r\n//state\r\nconst initialState = {\r\n    dialogs: [] as Array<IDialogs>,\r\n    messages: [] as Array<IMessage>,\r\n    totalResults: 0,\r\n    isFetching: false,\r\n    page: 1,\r\n    pageSize: 7,\r\n    portionNumber: 1,\r\n\r\n};\r\n//reducer\r\nconst dialogsReducer = (state = initialState, action: DialogsActionsTypes): InitialStateDialogsType => {\r\n    switch (action.type) {\r\n        case DIALOGS.SET_DIALOGS:\r\n        case DIALOGS.SET_MESSAGES:\r\n        case DIALOGS.SET_IS_FETCHING:\r\n        case DIALOGS.SET_PAGE:\r\n        case DIALOGS.SET_PAGE_SIZE:\r\n        case DIALOGS.SET_PORTION_NUMBER:\r\n            return {...state, ...action.payload};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport default dialogsReducer;\r\n//types\r\nexport type MessagesFromDialogsType = {\r\n    id: number\r\n    item: string\r\n    self: boolean\r\n    avatarURL: string\r\n}\r\nexport type InitialStateDialogsType = typeof initialState\r\nexport type DialogsActionsTypes = InferActionsType<typeof actionsDialogs>\r\n","import selfPhoto from \"../images/face.png\";\r\nimport {InferActionsType} from \"./reduxStore\";\r\nimport {PROFILE} from \"./consts\";\r\n\r\n//types\r\nexport type UserFromProfileResponseType = {\r\n    isOpenMenu: boolean\r\n    aboutMe: string | null\r\n    userId: number | null\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string | null\r\n    fullName: string | null\r\n    contacts: {\r\n        github: string | null\r\n        vk: string | null\r\n        facebook: string | null\r\n        instagram: string | null\r\n        twitter: string | null\r\n        website: string | null\r\n        youtube: string | null\r\n        mainLink: string | null\r\n    }\r\n    photos: { small: string | null, large: string | null }\r\n}\r\nexport type MyPostArrayFromProfileType = {\r\n    profileSelfPhotoImgUrl: string\r\n    id: number\r\n    message: string\r\n}\r\nexport type InitialStateProfileType = typeof initialState\r\nexport type ProfileActionsTypes = InferActionsType<typeof actionsProfile>\r\n//ac\r\nexport const actionsProfile = {\r\n    friendCheckSaga: (userId: number) => {\r\n        return {type: PROFILE.FRIENDLY_CHECK_SAGA, payload: {userId}} as const;\r\n    }, addPost: (value: string) => {\r\n        return {type: PROFILE.ADD_POST, payload: {value}} as const;\r\n    }, openSet: (isOpen: boolean) => {\r\n        return {type: PROFILE.IS_OPEN_MENU_FROM_PROFILE, payload: {isOpen}} as const;\r\n    }, setUserProfile: (user: UserFromProfileResponseType) => {\r\n        return {type: PROFILE.SET_USER_PROFILE, payload: {user}} as const;\r\n    }, changeIsFetchingFromProfile: (isFetching: boolean) => {\r\n        return {type: PROFILE.CHANGE_IS_FETCHING_FROM_PROFILE, payload: {isFetching}} as const;\r\n    }, setStatusAC: (status: string) => {\r\n        return {\r\n            type: PROFILE.CHANGE_STATUS,\r\n            payload: {status},\r\n        } as const;\r\n    }, savePhotosSuccess: (photos: { small: string, large: string }) => {\r\n        return {type: PROFILE.SAVE_PHOTO_FROM_PROFILE, payload: {photos}} as const;\r\n    }, getStatusProfileSaga: (userID: number) => {\r\n        return {type: PROFILE.GET_STATUS_FROM_PROFILE_SAGA, payload: {userID}} as const;\r\n    }, updateStatusProfileSaga: (item: string) => {\r\n        return {type: PROFILE.UPDATE_STATUS_FROM_PROFILE_SAGA, payload: {item}} as const;\r\n    }, savePhotoProfileSaga: (file: any) => {\r\n        return {type: PROFILE.SAVE_PHOTO_FROM_PROFILE_SAGA, payload: {file}} as const;\r\n    }, saveNewProfileSaga: (model: UserFromProfileResponseType, userId: number) => {\r\n        return {type: PROFILE.SAVE_NEW_PROFILE_SAGA, payload: {model, userId}} as const;\r\n    }, getProfileSaga: (userIdForURL: number) => {\r\n        return {type: PROFILE.GET_PROFILE_SAGA, payload: {userIdForURL}} as const;\r\n    }, setIsFriend: (isFriend: boolean | null) => {\r\n        return {type: PROFILE.SET_IS_FRIEND_PROFILE_SAGA, payload: {isFriend}} as const;\r\n    },setFriendLyStatusSaga: (isFriend: boolean | null,userId:number) => {\r\n        return {type: PROFILE.SET_FRIENDLY_FROM_PROFILE_SAGA, payload: {isFriend,userId}} as const;\r\n    },\r\n\r\n};\r\n//tc\r\n/*export const getStatusTC = (userID: number): AppThunk => async dispatch => {\r\n    if (userID) {\r\n        const response = await ProfileAPI.getStatus ( userID )\r\n        try {\r\n            dispatch ( actionsProfile.setStatusAC ( response.data ) )\r\n        } catch (e) {\r\n            throw new Error ( e )\r\n        }\r\n    }\r\n};*/\r\n/*export const updateStatusTC = (item: string): AppThunk => async dispatch => {\r\n    const response = await ProfileAPI.sendStatus ( item )\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch ( actionsProfile.setStatusAC ( item ) )\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n}*/\r\n/*export const savePhotoTC = (file: any): AppThunk => async dispatch => {\r\n    const response = await ProfileAPI.savePhoto ( file )\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch ( actionsProfile.savePhotosSuccess ( response.data.data.photos ) )\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n}*/\r\n/*\r\nexport const saveNewProfile = (model: UserFromProfileResponseType): AppThunk => async (dispatch, getState) => {\r\n    const response = await ProfileAPI.setNewProfile ( model )\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            const userId = getState ().profileReducer.profile.userId\r\n            if (userId)\r\n                return dispatch ( getProfile ( userId ) )\r\n\r\n        } else {\r\n            dispatch ( stopSubmit ( 'headerForm', {_error: response.data.messages} ) )\r\n            return Promise.reject ( response.data.messages )\r\n        }\r\n    } catch (e) {\r\n        //throw new Error ( e )\r\n    }\r\n}\r\n*/\r\n/*\r\nexport const getProfile = (userIdForURL: number): AppThunk => async dispatch => {\r\n    if (userIdForURL) {\r\n        dispatch ( actionsProfile.changeIsFetchingFromProfile ( true ) )\r\n        const response = await ProfileAPI.setUserProfile ( userIdForURL )\r\n        try {\r\n            dispatch ( actionsProfile.changeIsFetchingFromProfile ( false ) )\r\n            dispatch ( actionsProfile.setUserProfile ( response.data ) )\r\n        } catch (e) {\r\n            throw new Error ( e )\r\n        }\r\n    }\r\n}*/\r\n\r\n//state\r\nconst initialState = {\r\n    isOpenMenu: false,\r\n    status: '',\r\n    isFriend: null as null | boolean,\r\n    profile: {\r\n        aboutMe: null,\r\n        userId: null,\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: null,\r\n        fullName: null,\r\n        contacts: {\r\n            github: null,\r\n            vk: null,\r\n            facebook: null,\r\n            instagram: null,\r\n            twitter: null,\r\n            website: null,\r\n            youtube: null,\r\n            mainLink: null,\r\n        },\r\n        photos: {small: null, large: null},\r\n    } as UserFromProfileResponseType,\r\n    myPostArray: [\r\n        {\r\n            profileSelfPhotoImgUrl: selfPhoto,\r\n            id: 1,\r\n            message: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, ',\r\n        }, {\r\n            profileSelfPhotoImgUrl: selfPhoto,\r\n            id: 2, message: ' ultricies nec, pellentesque eu, ',\r\n        }, {\r\n            profileSelfPhotoImgUrl: selfPhoto,\r\n            id: 3,\r\n            message: 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu,Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu ',\r\n        }, {\r\n            profileSelfPhotoImgUrl: selfPhoto,\r\n            id: 4,\r\n            message: 'Lorem ipssa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridics, ultricies nec, pellentesque eu, ',\r\n        }, {\r\n            profileSelfPhotoImgUrl: selfPhoto,\r\n            id: 5, message: 'eu, ',\r\n        },\r\n    ] as Array<MyPostArrayFromProfileType>,\r\n    isFetching: false as boolean,\r\n};\r\n//reducer\r\nconst profileReducer = (state = initialState, action: ProfileActionsTypes): InitialStateProfileType => {\r\n    switch (action.type) {\r\n        case PROFILE.ADD_POST:\r\n            const newPost = {\r\n                profileSelfPhotoImgUrl: selfPhoto,\r\n                id: state.myPostArray.length += 1,\r\n                message: action.payload.value,\r\n            };\r\n            state.myPostArray.unshift ( newPost );\r\n            return {...state};\r\n        case PROFILE.SET_USER_PROFILE:\r\n            return {...state, profile: action.payload.user};\r\n        case PROFILE.CHANGE_IS_FETCHING_FROM_PROFILE:\r\n            return {...state, isFetching: action.payload.isFetching};\r\n        case PROFILE.CHANGE_STATUS: {\r\n            return {...state, status: action.payload.status};\r\n        }\r\n        case PROFILE.SAVE_PHOTO_FROM_PROFILE: {\r\n            return {...state, profile: {...state.profile, photos: action.payload.photos}};\r\n        }\r\n        case PROFILE.IS_OPEN_MENU_FROM_PROFILE: {\r\n            return {...state, isOpenMenu: action.payload.isOpen};\r\n        }\r\n        case PROFILE.SET_IS_FRIEND_PROFILE_SAGA: {\r\n            return {...state, isFriend: action.payload.isFriend};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport default profileReducer;\r\n\r\n\r\n","//users\r\nexport enum USERS {\r\n    FOLLOW = 'users/FOLLOW'\r\n    , UN_FOLLOW = 'users/UN_FOLLOW'\r\n    , ADD_MORE_USERS = 'users/ADD_MORE_USERS'\r\n    , CHANGE_CURRENT_PAGE = 'users/CHANGE_CURRENT_PAGE'\r\n    , CHANGE_TOTAL_COUNT = 'users/CHANGE_TOTAL_COUNT'\r\n    , CHANGE_IS_FETCHING_FROM_USERS = 'users/CHANGE_IS_FETCHING_FROM_USERS'\r\n    , SENDING_REQUEST_FROM_FOLLOW_UNFOLLOW = 'users/SENDING_REQUEST_FROM_FOLLOW_UNFOLLOW'\r\n    , SET_CURRENT_PAGE_FROM_USERS = 'users/SET_CURRENT_PAGE_FROM_USERS'\r\n    , SET_PORTION_PAGE_FROM_USERS = 'users/SET_PORTION_PAGE_FROM_USERS'\r\n    , GET_USERS_SAGA = 'users/GET_USERS_SAGA'\r\n    , FOLLOW_UNFOLLOW_SAGA = 'users/FOLLOW_UNFOLLOW_SAGA'\r\n    , UNFOLLOW_SAGA = 'users/UNFOLLOW_SAGA'\r\n    , FOLLOW_SAGA = 'users/FOLLOW_SAGA'\r\n\r\n}\r\n\r\n\r\n//app\r\nexport enum APP {\r\n    INITIALIZE_SAGA = 'app/INITIALIZE_SAGA'\r\n    , SET_INITIALIZED = 'app/SET_INITIALIZED'\r\n}\r\n\r\n\r\n//profile\r\nexport enum PROFILE {\r\n    ADD_POST = 'profile/ADD_POST'\r\n    , SET_USER_PROFILE = 'profile/SET_USER_PROFILE'\r\n    , CHANGE_IS_FETCHING_FROM_PROFILE = 'profile/CHANGE_IS_FETCHING_FROM_PROFILE'\r\n    , CHANGE_STATUS = 'profile/CHANGE_STATUS'\r\n    , SAVE_PHOTO_FROM_PROFILE = 'profile/SAVE_PHOTO_FROM_PROFILE'\r\n    , IS_OPEN_MENU_FROM_PROFILE = 'profile/IS_OPEN_MENU_FROM_PROFILE'\r\n    , GET_STATUS_FROM_PROFILE_SAGA = 'profile/GET_STATUS_FROM_PROFILE_SAGA'\r\n    , UPDATE_STATUS_FROM_PROFILE_SAGA = 'profile/UPDATE_STATUS_FROM_PROFILE_SAGA'\r\n    , SAVE_PHOTO_FROM_PROFILE_SAGA = 'profile/SAVE_PHOTO_FROM_PROFILE_SAGA'\r\n    , SAVE_NEW_PROFILE_SAGA = 'profile/SAVE_NEW_PROFILE_SAGA'\r\n    , GET_PROFILE_SAGA = 'profile/GET_PROFILE_SAGA'\r\n    , FRIENDLY_CHECK_SAGA = 'users/FRIEND_CHECK'\r\n    , SET_IS_FRIEND_PROFILE_SAGA = 'users/FRIEND_CHECK_PROFILE_SAGA'\r\n    , SET_FRIENDLY_FROM_PROFILE_SAGA = 'users/SET_FRIENDLY_FROM_PROFILE_SAGA'\r\n    , GET_DIALOG_FROM_PROFILE_SAGA = 'users/GET_DIALOG_FROM_PROFILE_SAGA'\r\n}\r\n\r\n\r\n//auth\r\nexport enum AUTH {\r\n    GET_CAPTCHA_SAGA = 'auth/GET_CAPTCHA_SAGA'\r\n    , SET_AUTH_NETWORK_ERROR = 'auth/SET_AUTH_NETWORK_ERROR'\r\n    , SET_USER_FROM_AUTH_SAGA = 'auth/SET_USER_FROM_AUTH_SAGA'\r\n    , LOGOUT_SAGA = 'auth/LOGOUT_SAGA'\r\n    , LOGIN_SAGA = 'auth/LOGIN_SAGA'\r\n    , SET_USER_DATA = 'auth/SET_USER_DATA'\r\n    , GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS'\r\n\r\n}\r\n\r\n//news\r\nexport enum NEWS {\r\n    GET_NEWS_SAGA = 'news/GET_NEWS_SAGA'\r\n    , SET_NEWS = 'news/SET_NEWS'\r\n    , SET_IS_FETCHING = 'news/SET_IS_FETCHING'\r\n    , SET_PAGE = 'news/SET_PAGE'\r\n    , SET_PAGE_SIZE = 'news/SET_PAGE_SIZE'\r\n    , SET_PORTION_NUMBER = 'news/SET_PORTION_NUMBER'\r\n}\r\n\r\n\r\n//dialogs\r\nexport enum DIALOGS {\r\n    ADD_DIALOGS_MESSAGE = 'dialogs/ADD_DIALOGS_MESSAGE'\r\n    , SET_DIALOGS = 'dialogs/SET_DIALOGS'\r\n    , SET_MESSAGES = 'dialogs/SET_MESSAGES'\r\n    , START_DIALOG_SAGA = 'dialogs/START_DIALOG_SAGA'\r\n    , GET_DIALOGS_SAGA = 'dialogs/GET_DIALOGS_SAGA'\r\n    , GET_MESSAGES_SAGA = 'dialogs/GET_MESSAGES_SAGA'\r\n    , POST_MESSAGE_SAGA = 'dialogs/POST_MESSAGE_SAGA'\r\n    , DELETE_MESSAGE_SAGA = 'dialogs/DELETE_MESSAGE_SAGA'\r\n    , IS_MESSAGE_VIEWED_SAGA = 'dialogs/IS_MESSAGE_VIEWED_SAGA'\r\n    , TO_SPAM_MESSAGE_SAGA = 'dialogs/SPAM_MESSAGE_SAGA'\r\n    , SET_IS_FETCHING = 'dialogs/SET_IS_FETCHING'\r\n    , SET_PAGE = 'dialogs/SET_PAGE'\r\n    , SET_PAGE_SIZE = 'dialogs/SET_PAGE_SIZE'\r\n    , SET_PORTION_NUMBER = 'dialogs/SET_PORTION_NUMBER'\r\n    , SET_SELECTED_FRIEND = 'dialogs/SET_SELECTED_FRIEND'\r\n}\r\n\r\n//websocket\r\nexport enum WEBSOCKET {\r\n    SET_MESSAGES = 'websocket/SET_MESSAGES'\r\n    , GET_MESSAGES = 'websocket/GET_MESSAGES'\r\n    , POST_MESSAGE = 'websocket/POST_MESSAGE'\r\n    , DELETE_MESSAGE = 'websocket/DELETE_MESSAGE'\r\n    , SET_IS_FETCHING = 'websocket/SET_IS_FETCHING'\r\n\r\n}\r\n","import {InferActionsType} from \"./reduxStore\";\r\nimport {UserResponseType} from \"../components/MainWrapper/Users/UserPage.container\";\r\nimport {USERS} from \"./consts\";\r\n\r\n//types\r\nexport type UserType = {\r\n    id: number\r\n    name: string\r\n    status: string\r\n    photos: { small: string | null, large: string | null }\r\n    followed: boolean\r\n\r\n\r\n}\r\nexport type InitialStateUsersType = UserType[] | UserResponseType[] | []\r\nexport type UsersActionsTypes = InferActionsType<typeof actionsUsers>\r\nexport type UsersStateType = typeof initialState\r\n//AC\r\nexport const actionsUsers = {\r\n    followSaga: (userId: number) => {\r\n        return {type: USERS.FOLLOW_SAGA, payload:{userId}} as const\r\n    },\r\n    unfollowSaga: (userId: number) => {\r\n        return {type: USERS.UNFOLLOW_SAGA,payload:{userId}} as const\r\n    },\r\n    followActionCreator: (id: number) => {\r\n        return {type: USERS.FOLLOW, id} as const\r\n    },\r\n    unFollowActionCreator: (id: number) => {\r\n        return {type: USERS.UN_FOLLOW, id} as const\r\n    },\r\n    addMoreUsersActionCreator: (users: UserType[] | UserResponseType[]) => {\r\n        return {type: USERS.ADD_MORE_USERS, users} as const\r\n    },\r\n    changeCurrentPageActionCreator: (currentPage: number) => {\r\n        return {type: USERS.CHANGE_CURRENT_PAGE, currentPage} as const\r\n    },\r\n    changeTotalCountActionCreator: (totalCount: number) => {\r\n        return {type: USERS.CHANGE_TOTAL_COUNT, totalCount} as const\r\n    },\r\n    changeIsFetchingActionCreator: (isFetching: boolean) => {\r\n        return {type: USERS.CHANGE_IS_FETCHING_FROM_USERS, isFetching} as const\r\n    },\r\n    sendRequestFromFollowUnFollowActionCreator: (userId: number, isFetching: boolean) => {\r\n        return {type: USERS.SENDING_REQUEST_FROM_FOLLOW_UNFOLLOW, userId, isFetching} as const\r\n    },\r\n    setCurrentPage: (page: number) => {\r\n        return {type: USERS.SET_CURRENT_PAGE_FROM_USERS, page} as const\r\n    },\r\n    setPortionNumber: (portion: number) => {\r\n        return {type: USERS.SET_PORTION_PAGE_FROM_USERS, portion} as const\r\n    },\r\n    getUsersSaga: (pageSize:number,currentPage:number,userName?:string)=>{\r\n        return {type: USERS.GET_USERS_SAGA, payload: {pageSize, currentPage,userName}\r\n        }as const\r\n    }\r\n}\r\n//thunks\r\n/*export const getUsersTC = (pageSize: number, currentPage: number): AppThunk => async dispatch => {\r\n    dispatch ( actionsUsers.changeIsFetchingActionCreator ( true ) )\r\n    dispatch ( actionsUsers.setCurrentPage(currentPage)  )\r\n    const response = await UsersAPI.getUsers ( pageSize, currentPage )\r\n    try {\r\n        dispatch ( actionsUsers.changeTotalCountActionCreator ( response.data.totalCount ) )\r\n        dispatch ( actionsUsers.addMoreUsersActionCreator ( response.data.items ) )\r\n\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    } finally {\r\n        dispatch ( actionsUsers.changeIsFetchingActionCreator ( false ) )\r\n    }\r\n}*/\r\n\r\n/*export const followUserTC = (userId: number): AppThunk => dispatch => {\r\n    // dispatch ( actionsUsers.sendRequestFromFollowUnFollowActionCreator ( userId, true ) )\r\n    // const response = await UsersAPI.followUser ( userId )\r\n    //     try{\r\n    //         if (response.data.resultCode === 0) {\r\n    //             dispatch ( actionsUsers.followActionCreator ( userId ) )\r\n    //             dispatch ( actionsUsers.sendRequestFromFollowUnFollowActionCreator ( userId, false ) )\r\n    //         }\r\n    //     }catch (e) {\r\n    //         //throw new Error(e)\r\n    //         console.log (e)\r\n    //     }\r\n    followUnfollowFlow ( dispatch, userId, actionsUsers.followActionCreator, UsersAPI.followUser )\r\n}\r\nexport const unFollowUserTC = (userId: number): AppThunk => async dispatch => {\r\n    // dispatch ( actionsUsers.sendRequestFromFollowUnFollowActionCreator ( userId, true ) )\r\n    // const response = await UsersAPI.unFollowUser ( userId )\r\n    // console.log (11)\r\n    //     try {\r\n    //         if (response.data.resultCode === 0) {\r\n    //             dispatch ( actionsUsers.unFollowActionCreator ( userId ) )\r\n    //             dispatch ( actionsUsers.sendRequestFromFollowUnFollowActionCreator ( userId, false ) )\r\n    //         }\r\n    //     } catch (e) {\r\n    //         throw new Error(e)\r\n    //     }\r\n    followUnfollowFlow ( dispatch, userId, actionsUsers.unFollowActionCreator, UsersAPI.unFollowUser )\r\n}*/\r\n//state\r\nconst initialState = {\r\n    users: [] as UserType[],\r\n    pageSize: 6,\r\n    totalCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    isRequestSendUsersId: [] as number[],\r\n    portionNumber:1\r\n}\r\n\r\n//reducer\r\nconst usersReducer = (state: UsersStateType = initialState, action: UsersActionsTypes): UsersStateType => {\r\n    switch (action.type) {\r\n        case USERS.FOLLOW:\r\n            return {\r\n                ...state, users: [...state.users.map ( user => {\r\n                    if (user.id === action.id) {\r\n                        return {...user, followed: true}\r\n                    } else {\r\n                        return user}})]};\r\n        case USERS.UN_FOLLOW:\r\n            return {\r\n                ...state, users: state.users.map ( user => {\r\n                        if (user.id === action.id) {\r\n                            return {...user, followed: false}\r\n                        } else {\r\n                            return user}})};\r\n        case USERS.ADD_MORE_USERS:\r\n            if (action.users) {\r\n                return {\r\n                    ...state, users: [...action.users]}\r\n            } else {\r\n                return {\r\n                    ...state, users: []}}\r\n        case USERS.CHANGE_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            }\r\n        case USERS.CHANGE_TOTAL_COUNT: {\r\n            return {\r\n                ...state, totalCount: action.totalCount}}\r\n        case USERS.CHANGE_IS_FETCHING_FROM_USERS: {\r\n            return {\r\n                ...state, isFetching: action.isFetching}}\r\n        case USERS.SENDING_REQUEST_FROM_FOLLOW_UNFOLLOW: {\r\n            return {\r\n                ...state, isRequestSendUsersId: action.isFetching ? [\r\n                        ...state.isRequestSendUsersId, action.userId]\r\n                    : state.isRequestSendUsersId.filter ( id => id !== action.userId )}}\r\n        case USERS.SET_CURRENT_PAGE_FROM_USERS:\r\n            return {...state,currentPage: action.page}\r\n        case USERS.SET_PORTION_PAGE_FROM_USERS: {\r\n            return {...state,portionNumber: action.portion}}\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport default usersReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWrapper\":\"Chat_chatWrapper__dEnt6\",\"active\":\"Chat_active__3UKaD\",\"title\":\"Chat_title__2o5nX\",\"activeTitle\":\"Chat_activeTitle__ui9YO\",\"chat\":\"Chat_chat__385i1\",\"activeChat\":\"Chat_activeChat__2SI5A\",\"messages\":\"Chat_messages__2y-k1\",\"description\":\"Chat_description__2nyD9\",\"body\":\"Chat_body__-L6jU\"};","export default __webpack_public_path__ + \"static/media/face.96c96380.png\";","import React from \"react\";\r\nimport {AUTH} from \"./consts\";\r\n\r\n\r\n//types\r\nexport type UserDataFromAuthAuthType = {\r\n    id: number | null\r\n    login: string | null\r\n    email: string | null\r\n}\r\nexport type InitialStateFromAuthType = {\r\n    error:string | null\r\n    isAuth: boolean\r\n    data: UserDataFromAuthAuthType\r\n    captchaURL: string | null\r\n}\r\n//export type AuthActionsTypes = InferActionsType<typeof actionsAuth>\r\nexport type AuthActionsTypes = any\r\n//ac\r\nexport const actionsAuth = {\r\n    setError: (message:string|null) => {\r\n        return {type: AUTH.SET_AUTH_NETWORK_ERROR,payload:{message}} as const\r\n    },\r\n    getCaptchaSaga: () => {\r\n        return {type: AUTH.GET_CAPTCHA_SAGA} as const\r\n    },\r\n    logoutSaga: () => {\r\n        return {type: AUTH.LOGOUT_SAGA}\r\n    },\r\n    loginSaga: (email: string, password: string, rememberMe: boolean, captcha?: string) => {\r\n        return {type: AUTH.LOGIN_SAGA, payload: {email, password, rememberMe, captcha}} as const\r\n    },\r\n    setUserFromAuthSaga: (isAuth: boolean) => {\r\n        return {type: AUTH.SET_USER_FROM_AUTH_SAGA, payload: {isAuth}} as const\r\n    },\r\n    setUserData: (isAuth: boolean, data: UserDataFromAuthAuthType) => {\r\n        return {type: AUTH.SET_USER_DATA, payload: {isAuth, data} as const} as const\r\n    },\r\n    getCaptchaUrlSuccess: (captchaURL: string) => {\r\n        return {type: AUTH.GET_CAPTCHA_URL_SUCCESS, payload: {captchaURL} as const} as const\r\n    }\r\n}\r\n\r\n//tc\r\n/*export const getCaptchaURL = (): AppThunk => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl ()\r\n    try {\r\n        dispatch ( actionsAuth.getCaptchaUrlSuccess ( response.data.url ) )\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n}\r\nexport const setUserTC = (isAuth: boolean): AppThunk => async (dispatch, getState: () => AppStateType) => {\r\n    const response = await AuthAPI.me ()\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch ( actionsAuth.setUserData ( isAuth, {...response.data.data} ) )\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n    const userId = getState ().auth.data.id\r\n    if (userId) {\r\n        const response = await ProfileAPI.setUserProfile ( userId )\r\n        try {\r\n            dispatch ( actionsProfile.setUserProfile ( response.data ) )\r\n        } catch (e) {\r\n            throw new Error ( e )\r\n        }\r\n    }\r\n}\r\nexport const loginTC = (email: string, password: string, rememberMe: boolean, captcha?: string): ThunkAction<void, AppStateType, unknown, ActionsTypes | FormAction> => async dispatch => {\r\n    const response = await AuthAPI.login ( email, password, rememberMe, captcha )\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch ( setUserTC ( true ) )\r\n        } else {\r\n            if (response.data.resultCode === 10) {\r\n                dispatch ( getCaptchaURL () )\r\n            }\r\n            dispatch ( stopSubmit ( 'login', {_error: 'shit shit shit'} ) )\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n}*/\r\n/*\r\nexport const logoutTC = (): AppThunk => async dispatch => {\r\n    const response = await AuthAPI.logout()\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(actionsAuth.setUserData(false, {email: null, login: null, id: null}))\r\n        }\r\n    } catch (e) {\r\n        throw new Error(e)\r\n    }\r\n}\r\n*/\r\n//state\r\nconst initialState: InitialStateFromAuthType = {\r\n    error:null,\r\n    isAuth: false,\r\n    captchaURL: null,\r\n    data: {\r\n        id: null,\r\n        email: null,\r\n        login: null\r\n    }\r\n}\r\n//reducer\r\nconst authReducer = (state = initialState, action: AuthActionsTypes): InitialStateFromAuthType => {\r\n    switch (action.type) {\r\n        case AUTH.SET_USER_DATA:\r\n        case AUTH.GET_CAPTCHA_URL_SUCCESS:\r\n        case AUTH.SET_AUTH_NETWORK_ERROR:\r\n            return {\r\n                ...state, ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//export default\r\nexport default authReducer;\r\n","import * as React from 'react';\r\nimport data from '../../../variables/en.json'\r\n\r\n\r\ntype Props = {\r\n    _id: string\r\n};\r\nexport const FormattedMessage = (props:Props) => {\r\n    const {_id} = props;\r\n\r\n    const jsonObj = JSON.parse ( JSON.stringify ( data ) );\r\n\r\n    return <span>{ jsonObj[_id] }</span>\r\n\r\n    return (\r\n        <span>\r\n            { jsonObj[_id] }\r\n        </span>\r\n    );\r\n};\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import photo from \"../images/face.png\";\r\n\r\n\r\nexport type FriendIconsFromNAvBArType = {\r\n    id: number\r\n    name: string\r\n    photoUrl: string\r\n}\r\nexport type NavLinkBarFromNAvBArType = {\r\n    id: number\r\n    item: string\r\n}\r\n\r\nexport type InitialStateNavBarType = typeof initialState\r\n\r\nconst initialState = {\r\n    friendsIcons: [\r\n        {id: 1, name: 'Sveta', photoUrl: photo},\r\n        {id: 2, name: 'Zhenya', photoUrl: photo},\r\n        {id: 3, name: 'Ivan', photoUrl: photo},\r\n        {id: 4, name: 'Fekls', photoUrl: photo},\r\n        {id: 5, name: 'Dno', photoUrl: photo},\r\n        {id: 6, name: 'Alexey', photoUrl: photo},\r\n    ] as Array<FriendIconsFromNAvBArType>,\r\n    navLinkBar: [\r\n        {id: 1, item: 'profile'},\r\n        {id: 2, item: 'dialogs'},\r\n        {id: 3, item: 'users'},\r\n        {id: 4, item: 'news'},\r\n        {id: 5, item: 'audio'},\r\n        {id: 6, item: 'settings'}\r\n    ] as Array<NavLinkBarFromNAvBArType>\r\n}\r\n\r\nconst navBarReducer = (state = initialState, action: any): InitialStateNavBarType => {\r\n    return {...state}\r\n}\r\n\r\nexport default navBarReducer;","import {InferActionsType} from \"./reduxStore\";\r\nimport React from \"react\";\r\nimport {APP} from \"./consts\";\r\n\r\n\r\n//types\r\nexport type InitialStateFromAppType = {\r\n    isInitialized:boolean\r\n}\r\n\r\nexport type AppActionsTypes = InferActionsType<typeof actionsApp>\r\n//ac\r\nexport const actionsApp = {\r\n    setInitializedSuccess :() => {\r\n        return {type: APP.SET_INITIALIZED } as const\r\n    },\r\n    initializeSaga :() => {\r\n        return {type: APP.INITIALIZE_SAGA} as const\r\n    }\r\n}\r\n//tc\r\n/*export const initialize = ():AppThunk => async dispatch=>{\r\n\r\n     await dispatch(setUserTC(true))\r\n     await dispatch(actionsApp.setInitializedSuccess())\r\n\r\n//if wi use then in thunk\r\n  /!*\r\n  const response = dispatch(setUserTC(true))\r\n  //@ts-ignore\r\n    response.then(res=>{\r\n        dispatch(actionsApp.setInitializedSuccess())\r\n    })*!/\r\n}*/\r\n\r\n//state\r\nconst initialState: InitialStateFromAppType = {\r\n    isInitialized:false\r\n}\r\n//reducer\r\nconst appReducer = (state = initialState, action: AppActionsTypes): InitialStateFromAppType => {\r\n    switch (action.type) {\r\n        case APP.SET_INITIALIZED:\r\n            return {\r\n                ...state,isInitialized:true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//export default\r\nexport default appReducer;\r\n","import {ActionsTypes} from \"../Redux/reduxStore\";\r\nimport {actionsAuth} from \"../Redux/authReducer\";\r\nimport {actionsApp} from \"../Redux/appReducer\";\r\nimport {put, takeLatest} from \"redux-saga/effects\";\r\nimport {APP} from \"../Redux/consts\";\r\n\r\n\r\nexport function* initializeSagaWorker({type}: { type: ActionsTypes}) {\r\n    yield put ( actionsAuth.setUserFromAuthSaga( true) )\r\n    yield put ( actionsApp.setInitializedSuccess () )\r\n}\r\n\r\nexport function* initializeSagaWatcher() {\r\n    yield takeLatest ( APP.INITIALIZE_SAGA, initializeSagaWorker )\r\n}","import axios from \"axios\";\r\nimport {AuthActionsTypes} from \"../Redux/authReducer\";\r\n\r\nexport type FollowUserResponseType = {\r\n    resultCode: number\r\n    messages: string[]\r\n    data: Object\r\n}\r\n\r\nexport interface ResponseHeaderContainerType extends AuthActionsTypes {\r\n    fieldsErrors: any\r\n    messages: string\r\n    resultCode: number\r\n\r\n}\r\n\r\n\r\nexport const instanceSamuraiAPI = axios.create ( {\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n         \"API-KEY\": \"521c0ab2-488b-4f3f-8d48-08737fb6ffd0\"\r\n        //\"API-KEY\": \"ed2395d2-9040-4756-acf3-cad057e773d8\"\r\n    }\r\n} )\r\n\r\n\r\n\r\n","import {UsersResponseType} from \"../components/MainWrapper/Users/UserPage.container\";\r\nimport {FollowUserResponseType, instanceSamuraiAPI} from \"./instance\";\r\n\r\nexport const UsersAPI = {\r\n    getUsers: (pageSize: number, currentPage: number,userName='') => {\r\n        return instanceSamuraiAPI.get<UsersResponseType> ( `users/?count=${ pageSize }&page=${ currentPage }&term=${userName}`,\r\n        )\r\n    },\r\n    friendCheck:(userId: number)=>{\r\n        return instanceSamuraiAPI.get<FollowUserResponseType> ( `follow/${ userId }`)\r\n    },\r\n    unFollowUser: (userId: number) => {\r\n        return instanceSamuraiAPI.delete<FollowUserResponseType> ( `follow/${ userId }`,\r\n        )\r\n    },\r\n    followUser: (userId: number) => {\r\n        return instanceSamuraiAPI.post<FollowUserResponseType> ( `follow/${ userId }`)\r\n\r\n    }\r\n}","import {call, put, takeLatest} from 'redux-saga/effects';\r\nimport {UsersAPI} from \"../api/usersAPI\";\r\nimport {actionsUsers} from \"../Redux/usersReducer\";\r\nimport {USERS} from \"../Redux/consts\";\r\nimport {ActionsTypes} from \"../Redux/reduxStore\";\r\n\r\n//workers\r\n\r\n//getusers\r\nfunction* getUsersSagaWorker({type, payload}: {\r\n    type: ActionsTypes,\r\n    payload: { pageSize: number, currentPage: number,userName?:string }\r\n}) {\r\n\r\n    yield put ( actionsUsers.changeIsFetchingActionCreator ( true ) )\r\n    yield put ( actionsUsers.setCurrentPage ( payload.currentPage ) )\r\n    try {\r\n        const response = yield call ( UsersAPI.getUsers, payload.pageSize, payload.currentPage,payload.userName );\r\n        yield put ( actionsUsers.changeTotalCountActionCreator ( response.data.totalCount ) );\r\n        yield put ( actionsUsers.addMoreUsersActionCreator ( response.data.items ) );\r\n    } catch (e) {\r\n        throw new Error ( e );\r\n    } finally {\r\n        yield put ( actionsUsers.changeIsFetchingActionCreator ( false ) )\r\n    }\r\n}\r\n\r\n\r\n\r\n//follow\r\nexport function* followSagaWorker({type, payload}: { type: ActionsTypes, payload: { userId: number } }) {\r\n    yield put ( actionsUsers.sendRequestFromFollowUnFollowActionCreator ( payload.userId, true ) )\r\n    const response = yield call ( UsersAPI.followUser, payload.userId )\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            yield put ( actionsUsers.followActionCreator ( payload.userId ) )\r\n            yield put ( actionsUsers.sendRequestFromFollowUnFollowActionCreator ( payload.userId, false ) )\r\n        }\r\n    } catch (e) {\r\n        //throw new Error(e)\r\n        console.warn ( e )\r\n    }\r\n\r\n}\r\n//unfollow\r\nexport function* unfollowWorker({type, payload}: { type: ActionsTypes, payload: { userId: number } }) {\r\n\r\n    yield put ( actionsUsers.sendRequestFromFollowUnFollowActionCreator ( payload.userId, true ) )\r\n    const response = yield call ( UsersAPI.unFollowUser, payload.userId )\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            yield put ( actionsUsers.unFollowActionCreator ( payload.userId ) )\r\n            yield put ( actionsUsers.sendRequestFromFollowUnFollowActionCreator ( payload.userId, false ) )\r\n        }\r\n    } catch (e) {\r\n        //throw new Error(e)\r\n        console.warn ( e )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n//watchers\r\nexport function* getUsersSagaWatcher() {\r\n    yield takeLatest ( USERS.GET_USERS_SAGA, getUsersSagaWorker );\r\n}\r\nexport function* followSagaWatcher() {\r\n    yield takeLatest ( USERS.FOLLOW_SAGA, followSagaWorker );\r\n}\r\nexport function* unfollowSagaWatcher() {\r\n    yield takeLatest ( USERS.UNFOLLOW_SAGA, unfollowWorker );\r\n}\r\n\r\n\r\n","import {UserFromProfileResponseType} from \"../Redux/profileReducer\";\r\nimport {instanceSamuraiAPI} from \"./instance\";\r\n\r\nexport const ProfileAPI = {\r\n    setUserProfile: (userIdForURL: number) => {\r\n        return instanceSamuraiAPI.get<UserFromProfileResponseType>(`profile/${userIdForURL}`)\r\n    },\r\n    getStatus: (userID: number) => {\r\n        return instanceSamuraiAPI.get(`profile/status/${userID}`)\r\n    },\r\n    sendStatus: (status: string) => {\r\n        return instanceSamuraiAPI.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto: (photoFile: any) => {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instanceSamuraiAPI.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    setNewProfile:(model:UserFromProfileResponseType)=>{\r\n        return instanceSamuraiAPI.put('profile',model)\r\n    }\r\n}","import {ActionsTypes} from \"../Redux/reduxStore\";\r\nimport {call, put, takeLatest} from \"redux-saga/effects\";\r\nimport {PROFILE} from \"../Redux/consts\";\r\nimport {ProfileAPI} from \"../api/profileAPI\";\r\nimport {actionsProfile, UserFromProfileResponseType} from \"../Redux/profileReducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {UsersAPI} from \"../api/usersAPI\";\r\n\r\n//workers\r\nfunction* getStatusSagaWorker({type, payload}: { type: ActionsTypes, payload: { userID: number } }) {\r\n    if (payload.userID) {\r\n        try {\r\n            const response = yield call ( ProfileAPI.getStatus, payload.userID );\r\n            yield put ( actionsProfile.setStatusAC ( response.data ) );\r\n        } catch (e) {\r\n            throw new Error ( e );\r\n        }\r\n    }\r\n}\r\n\r\nfunction* updateStatusFromProfileSagaWorker({type, payload}: { type: ActionsTypes, payload: { item: string } }) {\r\n    const response = yield call ( ProfileAPI.sendStatus, payload.item );\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            yield put ( actionsProfile.setStatusAC ( payload.item ) );\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e );\r\n    }\r\n}\r\n\r\nfunction* savePhotoFromProfileSagaWorker({type, payload}: { type: ActionsTypes, payload: { file: any } }) {\r\n    const response = yield call ( ProfileAPI.savePhoto, payload.file );\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            yield put ( actionsProfile.savePhotosSuccess ( response.data.data.photos ) );\r\n\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e );\r\n    }\r\n}\r\n\r\nfunction* saveNewProfileSagaWorker({type, payload}\r\n                                       : {\r\n    type: ActionsTypes, payload: {\r\n        model: UserFromProfileResponseType, userId: number\r\n    }\r\n}) {\r\n    const response = yield call ( ProfileAPI.setNewProfile, payload.model );\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n\r\n            if (payload.userId) {\r\n                yield  put ( actionsProfile.getProfileSaga ( payload.userId ) );\r\n                yield put ( actionsProfile.openSet ( false ) );\r\n\r\n            }\r\n        } else {\r\n            yield put ( stopSubmit ( 'headerForm', {_error: response.data.messages} ) );\r\n            yield Promise.reject ( response.data.messages );\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e );\r\n    }\r\n}\r\n\r\nfunction* getProfileSagaWorker({\r\n                                   type,\r\n                                   payload,\r\n                               }: { type: ActionsTypes, payload: { userIdForURL: number } }) {\r\n    if (payload.userIdForURL) {\r\n        yield put ( actionsProfile.changeIsFetchingFromProfile ( true ) );\r\n        const response = yield call ( ProfileAPI.setUserProfile, payload.userIdForURL );\r\n        try {\r\n            yield put ( actionsProfile.changeIsFetchingFromProfile ( false ) );\r\n            yield put ( actionsProfile.setUserProfile ( response.data ) );\r\n        } catch (e) {\r\n            throw new Error ( e );\r\n        }\r\n    }\r\n}\r\n\r\n//check\r\nexport function* friendCheckWorker({type, payload}: { type: ActionsTypes, payload: { userId: number } }) {\r\n    const response = yield call ( UsersAPI.friendCheck, payload.userId );\r\n    try {\r\n        yield put ( actionsProfile.setIsFriend ( response.data ) );\r\n    } catch (e) {\r\n        //throw new Error(e)\r\n        console.warn ( e );\r\n    }\r\n}\r\n\r\n//statusFriendly\r\nexport function* setFriendlyStatus({\r\n                                       type,\r\n                                       payload,\r\n                                   }: { type: ActionsTypes, payload: { userId: number, isFriend: boolean } }) {\r\n    const {isFriend, userId} = payload;\r\n    let response;\r\n    if (isFriend) {\r\n        response = yield call ( UsersAPI.unFollowUser, userId );\r\n        try {\r\n            yield put ( actionsProfile.setIsFriend ( response.data ) );\r\n\r\n        } catch (e) {\r\n            //throw new Error(e)\r\n            console.warn ( e );\r\n        }\r\n    } else {\r\n        response = yield call ( UsersAPI.followUser, payload.userId );\r\n        try {\r\n            yield put ( actionsProfile.setIsFriend ( response.data ) );\r\n\r\n        } catch (e) {\r\n            //throw new Error(e)\r\n            console.warn ( e );\r\n        }\r\n    }\r\n\r\n}\r\n//get dialog\r\nexport function* getDialog({\r\n                                       type,\r\n                                       payload,\r\n                                   }: { type: ActionsTypes, payload: { userId: number, isFriend: boolean } }) {\r\n    const {isFriend, userId} = payload;\r\n    let response;\r\n    if (isFriend) {\r\n        response = yield call ( UsersAPI.unFollowUser, userId );\r\n        try {\r\n            yield put ( actionsProfile.setIsFriend ( response.data ) );\r\n\r\n        } catch (e) {\r\n            //throw new Error(e)\r\n            console.warn ( e );\r\n        }\r\n    } else {\r\n        response = yield call ( UsersAPI.followUser, payload.userId );\r\n        try {\r\n            yield put ( actionsProfile.setIsFriend ( response.data ) );\r\n\r\n        } catch (e) {\r\n            //throw new Error(e)\r\n            console.warn ( e );\r\n        }\r\n    }\r\n\r\n}\r\n\r\n//watchers\r\nexport function* getStatusSagaWatcher() {\r\n    yield takeLatest ( PROFILE.GET_STATUS_FROM_PROFILE_SAGA, getStatusSagaWorker );\r\n}\r\nexport function* getDialogSagaWatcher() {\r\n    yield takeLatest ( PROFILE.GET_DIALOG_FROM_PROFILE_SAGA, getDialog );\r\n}\r\n\r\nexport function* setFriendlySagaWatcher() {\r\n    yield takeLatest ( PROFILE.SET_FRIENDLY_FROM_PROFILE_SAGA, setFriendlyStatus );\r\n}\r\n\r\nexport function* friendCheckSagaWatcher() {\r\n    yield takeLatest ( PROFILE.FRIENDLY_CHECK_SAGA, friendCheckWorker );\r\n}\r\n\r\nexport function* updateStatusFromProfileSagaWatcher() {\r\n    yield takeLatest ( PROFILE.UPDATE_STATUS_FROM_PROFILE_SAGA, updateStatusFromProfileSagaWorker );\r\n}\r\n\r\nexport function* savePhotoFromProfileSagaWatcher() {\r\n    yield takeLatest ( PROFILE.SAVE_PHOTO_FROM_PROFILE_SAGA, savePhotoFromProfileSagaWorker );\r\n}\r\n\r\nexport function* saveNewProfileSagaWatcher() {\r\n    yield takeLatest ( PROFILE.SAVE_NEW_PROFILE_SAGA, saveNewProfileSagaWorker );\r\n}\r\n\r\nexport function* getProfileSagaWatcher() {\r\n    yield takeLatest ( PROFILE.GET_PROFILE_SAGA, getProfileSagaWorker );\r\n}\r\n","import {instanceSamuraiAPI} from \"./instance\";\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instanceSamuraiAPI.get ( `/security/get-captcha-url`, {} )\r\n            .then(response=>response.data)\r\n    }\r\n\r\n}","import {instanceSamuraiAPI, ResponseHeaderContainerType} from \"./instance\";\r\n\r\nexport const AuthAPI = {\r\n    me() {\r\n        return instanceSamuraiAPI.get<ResponseHeaderContainerType> ( `auth/me`, {} )\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false,captcha:string|null = null) {\r\n        const model = {\r\n            email, password, rememberMe,captcha\r\n        }\r\n        return instanceSamuraiAPI.post ( '/auth/login', model )\r\n    },\r\n    logout() {\r\n        return instanceSamuraiAPI.delete ( '/auth/login' )\r\n    },\r\n}","import {ActionsTypes} from \"../Redux/reduxStore\";\r\nimport {actionsAuth} from \"../Redux/authReducer\";\r\nimport {call, put, takeLatest} from \"redux-saga/effects\";\r\nimport {AUTH} from \"../Redux/consts\";\r\nimport {securityAPI} from \"../api/securityAPI\";\r\nimport {AuthAPI} from \"../api/authAPI\";\r\nimport {ProfileAPI} from \"../api/profileAPI\";\r\nimport {actionsProfile} from \"../Redux/profileReducer\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {jsonMacros} from \"../utils/json-helper\";\r\n\r\n//workers\r\nexport function* getCaptchaSagaWorker({type}: { type: ActionsTypes }) {\r\n    try {\r\n        const data = yield call ( securityAPI.getCaptchaUrl )\r\n        yield put ( actionsAuth.getCaptchaUrlSuccess ( data.url ) )\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n\r\n}\r\n\r\nexport function* setUserFromAuthSagaWorker({\r\n                                               type,\r\n                                               payload\r\n                                           }: { type: ActionsTypes, payload: { isAuth: boolean } }) {\r\n    const response = yield call ( AuthAPI.me )\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            yield put ( actionsAuth.setUserData ( payload.isAuth, {...response.data.data} ) )\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n    if (response.data.userId) {\r\n        yield call ( ProfileAPI.setUserProfile, response.data.userId )\r\n        try {\r\n            yield put ( actionsProfile.setUserProfile ( response.data ) )\r\n        } catch (e) {\r\n            yield put ( actionsAuth.setError ( jsonMacros('network.error')  ))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport function* loginSagaWorker({type, payload}: {\r\n    type: ActionsTypes, payload: {\r\n        email: string, password: string, rememberMe: boolean, captcha?: string\r\n    }\r\n}) {\r\n    try {\r\n        const response = yield call ( AuthAPI.login, payload.email, payload.password, payload.rememberMe, payload.captcha )\r\n\r\n        if (response.data.resultCode === 0) {\r\n            yield put ( actionsAuth.setUserFromAuthSaga ( true ) )\r\n        } else {\r\n            if (response.data.resultCode === 10) {\r\n                yield put ( actionsAuth.getCaptchaSaga () )\r\n            }\r\n            yield put ( stopSubmit ( 'login', {_error: 'shit shit shit'} ) )\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n}\r\n\r\nfunction* logoutSagaWorker({type}: {\r\n    type: ActionsTypes\r\n}) {\r\n    const response = yield call ( AuthAPI.logout )\r\n    try {\r\n        if (response.data.resultCode === 0) {\r\n            yield put ( actionsAuth.setUserData ( false, {email: null, login: null, id: null} ) )\r\n        }\r\n    } catch (e) {\r\n        throw new Error ( e )\r\n    }\r\n}\r\n\r\n\r\n//watchers\r\nexport function* getCaptchaSagaWatcher() {\r\n    yield takeLatest ( AUTH.GET_CAPTCHA_SAGA, getCaptchaSagaWorker )\r\n}\r\n\r\nexport function* loginSagaWatcher() {\r\n    yield takeLatest ( AUTH.LOGIN_SAGA, loginSagaWorker )\r\n}\r\n\r\n\r\nexport function* logoutSagaWatcher() {\r\n    yield takeLatest ( AUTH.LOGOUT_SAGA, logoutSagaWorker )\r\n}\r\n\r\nexport function* setUserFromAuthSagaWatcher() {\r\n    yield takeLatest ( AUTH.SET_USER_FROM_AUTH_SAGA, setUserFromAuthSagaWorker )\r\n}","import axios from \"axios\";\r\n\r\nexport type ArticleType = {\r\n    source: {}\r\n    author: string\r\n    title: string\r\n    description: string\r\n    url: string\r\n    urlToImage: string\r\n    publishedAt: string\r\n    content: string\r\n}\r\n\r\ntype NewsGetResponseType = {\r\n    status: string\r\n    articles: ArticleType[]\r\n    totalResults: number\r\n}\r\n\r\n\r\nconst NEWS_API_KEY = '52abf77eab5d431cb79898102452aa6f';\r\n\r\nexport const NewsAPI = {\r\n    getNews: (dateFull: Date, theme: string = 'russia',pageSize:number,page:number) => {\r\n        const date = `${ dateFull.getFullYear () }-${ dateFull.getMonth () }-${ dateFull.getDate() }`\r\n        return axios.get<NewsGetResponseType> ( `https://newsapi.org/v2/top-headlines?q=${ theme }&page=${page}&pageSize=${pageSize}&from=${ date }&sortBy=publishedAt&apiKey=${ NEWS_API_KEY }&language=en` )\r\n    }\r\n};","import {ActionsTypes} from \"../Redux/reduxStore\";\r\nimport {call, put, select, takeLatest} from \"redux-saga/effects\";\r\nimport {NEWS} from \"../Redux/consts\";\r\nimport {NewsAPI} from \"../api/newsAPI\";\r\nimport {actionsNews} from \"../Redux/news-reducer\";\r\nimport {newsPageSelector, newsPageSizeSelector} from \"../utils/selectors/news-selectors\";\r\n\r\n\r\nexport function* getNewsSagaWorker({type, payload}: { type: ActionsTypes, payload: { theme: string } }) {\r\n    const pageSize = yield select(newsPageSizeSelector)\r\n    const page = yield select(newsPageSelector)\r\n\r\n    yield put(actionsNews.setIsFetching(true))\r\n    try {\r\n        const response = yield call(NewsAPI.getNews, new Date(), payload.theme, pageSize, page)\r\n        const {totalResults, articles} = response.data\r\n        yield put(actionsNews.setNews(articles, totalResults))\r\n\r\n    } catch (e) {\r\n        console.log(e)\r\n    } finally {\r\n        yield put(actionsNews.setIsFetching(false))\r\n    }\r\n}\r\n\r\nexport function* getNewsSagaWatcher() {\r\n    yield takeLatest(NEWS.GET_NEWS_SAGA, getNewsSagaWorker)\r\n}","import {instanceSamuraiAPI} from \"./instance\";\r\n\r\n\r\nexport interface IMessage {\r\n    addedAt: string;\r\n    body: string;\r\n    deletedByRecipient: boolean;\r\n    deletedBySender: boolean;\r\n    distributionId: any;\r\n    id: string;\r\n    isSpam: boolean;\r\n    recipientId: number;\r\n    recipientName: string;\r\n    senderId: number;\r\n    senderName: string;\r\n    translatedBody: any;\r\n    viewed: boolean;\r\n}\r\n\r\nexport interface IPostMessage {\r\n    fieldsError: Array<any>;\r\n    items: Array<IMessage>;\r\n    messages: Array<any>;\r\n    resultCode: number;\r\n}\r\n\r\nexport interface IMessages {\r\n    error: boolean;\r\n    data: { message: IMessage };\r\n    totalCount: number;\r\n}\r\n\r\nexport interface IPhotos {\r\n    small: null | string,\r\n    large: null | string\r\n};\r\n\r\nexport interface IDialogs {\r\n    hasNewMessages: boolean;\r\n    id: number;\r\n    lastDialogActivityDate: Date;\r\n    lastUserActivityDate: Date;\r\n    newMessagesCount: number;\r\n    photos: IPhotos;\r\n    userName: string;\r\n}\r\n\r\nexport const DialogsAPI = {\r\n    startDialog: (id: number) => {\r\n        return instanceSamuraiAPI.put<any> ( `dialogs/${ id }/` );\r\n    },\r\n    getDialogs: () => {\r\n        return instanceSamuraiAPI.get<Array<IDialogs>> ( `dialogs/` );\r\n    },\r\n    getMessages: (id: number, count: number, page?: number) => {\r\n        return instanceSamuraiAPI.get<IMessages> ( `dialogs/${ id }/messages?count=${ count }&page=${ page }` );\r\n    },\r\n    sendMessage: (id: number, message: string) => {\r\n        return instanceSamuraiAPI.post<IPostMessage> ( `dialogs/${ id }/messages`, {body: message} );\r\n    },\r\n    deleteMessage: (messageId: number) => {\r\n        return instanceSamuraiAPI.delete<IPostMessage> ( `dialogs/messages/${ messageId }` );\r\n    },\r\n    toSpamMessage: (messageId: number) => {\r\n        return instanceSamuraiAPI.post<IPostMessage> ( `dialogs/messages/${ messageId }/spam` );\r\n    },\r\n    toViewedMessage: (messageId: number) => {\r\n        return instanceSamuraiAPI.get<IPostMessage> ( `dialogs/messages/${ messageId }/viewed` );\r\n    },\r\n\r\n};","import {call, put, select, takeLatest} from \"redux-saga/effects\";\r\nimport {DIALOGS} from \"../Redux/consts\";\r\nimport {ActionsTypes} from \"../Redux/reduxStore\";\r\nimport {DialogsAPI} from \"../api/dialogsAPI\";\r\nimport {actionsDialogs} from \"../Redux/dialogsReducer\";\r\nimport {messagesPageSelector, messagesPageSizeSelector} from \"../utils/selectors/dialogs-selectors\";\r\nimport {ProfileAPI} from \"../api/profileAPI\";\r\n\r\n\r\n//workers\r\nexport function* startDialogSagaWorker({type, payload}: { type: ActionsTypes, payload: { id: number } }) {\r\n    yield put(actionsDialogs.setIsFetching(true))\r\n    //yield put(actionsDialogs.toDialogSaga(payload.id))\r\n    try {\r\n        const response = yield call ( DialogsAPI.startDialog, payload.id );\r\n    } catch (e) {\r\n        console.log ( e );\r\n    } finally {\r\n        yield put(actionsDialogs.setIsFetching(false))\r\n    }\r\n};\r\n\r\nexport function* getDialogsSagaWorker({type, payload}: { type: ActionsTypes, payload: {} }) {\r\n    yield put(actionsDialogs.setIsFetching(true))\r\n    try {\r\n        const response = yield call ( DialogsAPI.getDialogs );\r\n        const {data} = response;\r\n        yield put ( actionsDialogs.setDialogs ( data ) );\r\n    } catch (e) {\r\n        console.warn ( e );\r\n    } finally {\r\n        yield put(actionsDialogs.setIsFetching(false))\r\n    }\r\n};\r\n\r\nexport function* getMessagesSagaWorker({\r\n                                           type,\r\n                                           payload,\r\n                                       }: { type: ActionsTypes, payload: { id: number } }) {\r\n    yield put(actionsDialogs.setIsFetching(true))\r\n    const count = yield select ( messagesPageSizeSelector );\r\n    const page = yield select ( messagesPageSelector );\r\n\r\n    try {\r\n        const response = yield call ( DialogsAPI.getMessages, payload.id, count, page );\r\n        const {items,totalCount} = response.data;\r\n        yield put ( actionsDialogs.setMessages ( items,totalCount ) );\r\n        // const userProfile = yield call ( ProfileAPI.setUserProfile, payload.id )\r\n\r\n    } catch (e) {\r\n        console.warn ( e );\r\n    } finally {\r\n        yield put(actionsDialogs.setIsFetching(false))\r\n    }\r\n};\r\n\r\nexport function* postMessageSagaWorker({\r\n                                           type,\r\n                                           payload,\r\n                                       }: { type: ActionsTypes, payload: { id: number, message: string } }) {\r\n    yield put(actionsDialogs.setIsFetching(true))\r\n    try {\r\n        const response = yield call ( DialogsAPI.sendMessage, payload.id, payload.message );\r\n        yield put ( actionsDialogs.getMessages ( payload.id ) );\r\n    } catch (e) {\r\n        console.warn ( e );\r\n    } finally {\r\n        yield put(actionsDialogs.setIsFetching(false))\r\n    }\r\n};\r\n\r\nexport function* deleteMessageSagaWorker({\r\n                                             type,\r\n                                             payload,\r\n                                         }: { type: ActionsTypes, payload: { id: number, messageId: number } }) {\r\n    yield put(actionsDialogs.setIsFetching(true))\r\n    try {\r\n        const response = yield call ( DialogsAPI.deleteMessage, payload.messageId );\r\n        yield put ( actionsDialogs.getMessages ( payload.id ) );\r\n    } catch (e) {\r\n        console.warn ( e );\r\n    } finally {\r\n        yield put(actionsDialogs.setIsFetching(false))\r\n    }\r\n};\r\n\r\nexport function* toSpamMessageSagaWorker({\r\n                                             type,\r\n                                             payload,\r\n                                         }: { type: ActionsTypes, payload: { id: number, messageId: number } }) {\r\n    yield put(actionsDialogs.setIsFetching(true))\r\n    try {\r\n        const response = yield call ( DialogsAPI.toSpamMessage, payload.messageId );\r\n        yield put ( actionsDialogs.getMessages ( payload.id ) );\r\n    } catch (e) {\r\n        console.warn ( e );\r\n    } finally {\r\n        yield put(actionsDialogs.setIsFetching(false))\r\n    }\r\n};\r\n\r\nexport function* toViewedMessageSagaWorker({\r\n                                               type,\r\n                                               payload,\r\n                                           }: { type: ActionsTypes, payload: { id: number, messageId: number } }) {\r\n    try {\r\n        const response = yield call ( DialogsAPI.toViewedMessage, payload.messageId );\r\n        if (response.data) {\r\n            yield put ( actionsDialogs.getMessages ( payload.id ) );\r\n        } else {\r\n            return;\r\n        }\r\n    } catch (e) {\r\n        console.warn ( e );\r\n    } finally {\r\n    }\r\n};\r\n\r\n//watchers\r\n\r\nexport function* deleteMessageSagaWatcher() {\r\n    yield takeLatest ( DIALOGS.DELETE_MESSAGE_SAGA, deleteMessageSagaWorker );\r\n};\r\n\r\nexport function* toViewedSagaWatcher() {\r\n    yield takeLatest ( DIALOGS.IS_MESSAGE_VIEWED_SAGA, toViewedMessageSagaWorker );\r\n};\r\n\r\nexport function* toSpamMessageSagaWatcher() {\r\n    yield takeLatest ( DIALOGS.TO_SPAM_MESSAGE_SAGA, toSpamMessageSagaWorker );\r\n};\r\n\r\nexport function* postMessageSagaWatcher() {\r\n    yield takeLatest ( DIALOGS.POST_MESSAGE_SAGA, postMessageSagaWorker );\r\n};\r\n\r\nexport function* startDialogSagaWatcher() {\r\n    yield takeLatest ( DIALOGS.START_DIALOG_SAGA, startDialogSagaWorker );\r\n};\r\n\r\nexport function* getMessagesSagaWatcher() {\r\n    yield takeLatest ( DIALOGS.GET_MESSAGES_SAGA, getMessagesSagaWorker );\r\n};\r\n\r\nexport function* getDialogsSagaWatcher() {\r\n    yield takeLatest ( DIALOGS.GET_DIALOGS_SAGA, getDialogsSagaWorker );\r\n};\r\n","import {all} from \"redux-saga/effects\";\r\nimport {initializeSagaWatcher} from \"./appSagas\";\r\nimport {followSagaWatcher, getUsersSagaWatcher, unfollowSagaWatcher} from \"./usersSagas\";\r\nimport {\r\n    friendCheckSagaWatcher,\r\n    getProfileSagaWatcher,\r\n    getStatusSagaWatcher,\r\n    saveNewProfileSagaWatcher,\r\n    savePhotoFromProfileSagaWatcher,\r\n    setFriendlySagaWatcher,\r\n    updateStatusFromProfileSagaWatcher,\r\n} from \"./profileSagas\";\r\nimport {getCaptchaSagaWatcher, loginSagaWatcher, logoutSagaWatcher, setUserFromAuthSagaWatcher} from \"./authSagas\";\r\nimport {getNewsSagaWatcher} from \"./newsSagas\";\r\nimport {\r\n    deleteMessageSagaWatcher,\r\n    getDialogsSagaWatcher,\r\n    getMessagesSagaWatcher,\r\n    postMessageSagaWatcher,\r\n    startDialogSagaWatcher,\r\n    toSpamMessageSagaWatcher,\r\n    toViewedSagaWatcher,\r\n} from \"./dialogsSagas\";\r\n\r\n\r\nexport default function* rootSaga() {\r\n    yield all ( [\r\n        getUsersSagaWatcher (),\r\n        followSagaWatcher (),\r\n        unfollowSagaWatcher (),\r\n        initializeSagaWatcher (),\r\n        getStatusSagaWatcher (),\r\n        updateStatusFromProfileSagaWatcher (),\r\n        savePhotoFromProfileSagaWatcher (),\r\n        saveNewProfileSagaWatcher (),\r\n        getProfileSagaWatcher (),\r\n        getCaptchaSagaWatcher (),\r\n        setUserFromAuthSagaWatcher (),\r\n        loginSagaWatcher (),\r\n        logoutSagaWatcher (),\r\n        getNewsSagaWatcher (),\r\n        startDialogSagaWatcher (),\r\n        getDialogsSagaWatcher (),\r\n        getMessagesSagaWatcher (),\r\n        postMessageSagaWatcher (),\r\n        deleteMessageSagaWatcher (),\r\n        toViewedSagaWatcher (),\r\n        toSpamMessageSagaWatcher (),\r\n        setFriendlySagaWatcher (),\r\n        friendCheckSagaWatcher (),\r\n    ] );\r\n}","import {InferActionsType} from \"./reduxStore\";\r\nimport React from \"react\";\r\nimport {WEBSOCKET} from \"./consts\";\r\n\r\n\r\n//types\r\n\r\nexport type WebSocketMessageType = {\r\n    message: string,\r\n    photo: string,\r\n    userId: number,\r\n    userName: string\r\n}\r\n\r\n\r\nexport type InitialStateFromChatType = typeof initialState\r\n\r\nexport type ChatActionsTypes = InferActionsType<typeof actionsChat>\r\n//ac\r\nexport const actionsChat = {\r\n    getMessages: () => {\r\n        return {type: WEBSOCKET.GET_MESSAGES as const};\r\n    },\r\n    setMessages: (messages: WebSocketMessageType[]) => {\r\n        return {type: WEBSOCKET.SET_MESSAGES as const, payload: {messages}};\r\n    },\r\n    postMessage: (message: WebSocketMessageType) => {\r\n        return {type: WEBSOCKET.POST_MESSAGE as const, payload: {message}};\r\n    },\r\n};\r\n\r\n\r\n//state\r\nconst initialState = {\r\n    messages: [] as WebSocketMessageType[],\r\n};\r\n//reducer\r\nconst chatReducer = (state = initialState, action: ChatActionsTypes): InitialStateFromChatType => {\r\n    switch (action.type) {\r\n        case WEBSOCKET.SET_MESSAGES:\r\n            return {...state,  ...action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n//export default\r\nexport default chatReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport profileReducer, {ProfileActionsTypes} from \"./profileReducer\";\r\nimport dialogsReducer, {DialogsActionsTypes} from \"./dialogsReducer\";\r\nimport navBarReducer from \"./navBarReducer\";\r\nimport usersReducer, {UsersActionsTypes} from \"./usersReducer\";\r\nimport authReducer, {AuthActionsTypes} from \"./authReducer\";\r\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer, {AppActionsTypes} from \"./appReducer\";\r\nimport newsReducer from \"./news-reducer\";\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootSaga from \"../sagas/rootSaga\";\r\nimport chatReducer, {ChatActionsTypes} from \"./chatReducer\";\r\n\r\n\r\nexport type ActionsTypes =\r\n    | AuthActionsTypes\r\n    | ProfileActionsTypes\r\n    | UsersActionsTypes\r\n    | DialogsActionsTypes\r\n    | AppActionsTypes\r\n    | ChatActionsTypes\r\n\r\n\r\nconst rootReducer = combineReducers ( {\r\n    form: formReducer,\r\n    profileReducer,\r\n    dialogsReducer,\r\n    navBarReducer,\r\n    usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    news: newsReducer,\r\n    chat: chatReducer,\r\n\r\n} );\r\n\r\n//types\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, AppStateType, unknown, ActionsTypes>\r\n\r\ntype PropertiesType<T> = T extends { [key: string]: infer U } ? U : never\r\nexport type InferActionsType<T extends { [key: string]: (...args: any[]) => any }> = ReturnType<PropertiesType<T>>\r\n\r\n\r\n// create the saga middleware\r\nconst sagaMiddleware = createSagaMiddleware ();\r\n\r\nconst composeEnhancers =\r\n    typeof window === 'object' &&\r\n    //@ts-ignore\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ( {\r\n        // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\r\n    } ) : compose;\r\n\r\nconst enhancer = composeEnhancers (\r\n    applyMiddleware ( thunkMiddleware, sagaMiddleware ),\r\n    // other store enhancers if any\r\n);\r\nconst store = createStore ( rootReducer, enhancer );\r\n//let store = createStore ( rootReducer,applyMiddleware(thunkMiddleware));\r\n//(window as any).__REDUX_DEVTOOLS_EXTENSION__ && (window as any).__REDUX_DEVTOOLS_EXTENSION__(), need to fix\r\n\r\n\r\nsagaMiddleware.run ( rootSaga );\r\n\r\n//@ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport s from './Footer.module.css'\r\nimport {FormattedMessage} from \"../common/FormattedMessage/FormattedMessage\";\r\n\r\nexport const Footer = React.memo(() => (\r\n    <footer className={ s.footer }>\r\n        <FormattedMessage _id={'footer.text'}/>\r\n    </footer>\r\n));","import s from \"./SmallInfo.module.css\";\r\nimport React from \"react\";\r\nimport {FormattedMessage} from \"../../../common/FormattedMessage/FormattedMessage\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getOwnerId, isOwnerSelector} from \"../../../../utils/selectors/auth-selectors\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {PATH} from \"../../../common/routes/Routes\";\r\n\r\n\r\ninterface IProps {\r\n    profileName: string | null;\r\n}\r\n\r\nexport const SmallInfo: React.FC<IProps> = (props) => {\r\n    const {profileName} = props;\r\n    const {isOwner} = useSelector ( isOwnerSelector );\r\n    const ownerId = useSelector ( getOwnerId );\r\n    return (\r\n        <div className={ s.smallInfo }>\r\n            { !isOwner\r\n                ? <NavLink to={ `${ PATH.PROFILE + ownerId }` }>{ profileName && profileName }</NavLink>\r\n                : profileName ? profileName\r\n                    : <FormattedMessage _id={ 'navBar.info.name' }/> }\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './NavigationBar.module.css'\r\nimport {SmallInfo} from \"./SmallInfo/SmallInfo\";\r\nimport {FriendIconsFromNAvBArType, NavLinkBarFromNAvBArType} from \"../../../Redux/navBarReducer\";\r\n\r\n\r\n\r\ntype NavBarPropsType = {\r\n    navLinkBar: Array<NavLinkBarFromNAvBArType>\r\n    friendsIcons: Array<FriendIconsFromNAvBArType>\r\n    profileName:string|null\r\n}\r\n\r\nexport const NavigationBar = React.memo(({navLinkBar, friendsIcons,profileName}: NavBarPropsType) => {\r\n\r\n    const navLinkBlock = navLinkBar.map(i => {\r\n        return <div key={i.id}>\r\n            <NavLink to={i.item}>{i.item}</NavLink>\r\n        </div>\r\n    }) //navlinks from ban reducer\r\n    const friendsIconsBlock = friendsIcons.map(f => {\r\n        return <div key={f.id} className={s.iconBlock}>\r\n            <div className={s.backGroundBlock}><img src={f.photoUrl}/></div>\r\n\r\n            <span>{f.name}</span>\r\n        </div>\r\n    })\r\n\r\n    return (\r\n        <div className={s.navigationBar}>\r\n            <SmallInfo profileName={profileName}/>\r\n            <div className={s.NavElements}>\r\n                {navLinkBlock}\r\n            </div>\r\n            <div className={s.activeFriends}>\r\n                {friendsIconsBlock}\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n","import React, {PureComponent} from 'react';\r\nimport {NavigationBar} from \"./NavigationBar\";\r\nimport {connect} from \"react-redux\";\r\nimport {FriendIconsFromNAvBArType, NavLinkBarFromNAvBArType} from \"../../../Redux/navBarReducer\";\r\nimport {AppStateType} from \"../../../Redux/reduxStore\";\r\nimport {Dispatch} from \"redux\";\r\nimport selectors from '../../../utils/selectors';\r\n\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    friendsIcons:Array<FriendIconsFromNAvBArType>\r\n    navLinkBar: Array<NavLinkBarFromNAvBArType>\r\n    profileName:string|null\r\n}\r\ntype MapDispatchToProps = {}\r\ntype NavigationBarAPIContainerPropsType = MapStateToPropsType&MapDispatchToProps\r\n\r\n\r\n\r\n\r\nclass NavigationBarAPIContainer extends PureComponent<NavigationBarAPIContainerPropsType> {\r\n    render() {\r\n        return <NavigationBar navLinkBar={this.props.navLinkBar} friendsIcons={this.props.friendsIcons} profileName={this.props.profileName}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        navLinkBar: selectors.navSelectors.getNavLinkBar(state),\r\n        friendsIcons: selectors.navSelectors.getFriendsIcons(state),\r\n        profileName:selectors.authSelectors.getProfileName(state)\r\n    }\r\n}\r\n\r\n\r\nconst NavigationBarContainer = connect ( mapStateToProps, {} ) ( NavigationBarAPIContainer )\r\nexport default NavigationBarContainer;\r\n","const getWebSocket = () => {\r\n    return new WebSocket ( 'wss://social-network.samuraijs.com/handlers/ChatHandler.ashx' );\r\n}\r\n\r\nexport const wsConnect = () => {\r\n    const ws = getWebSocket();\r\n    ws.onopen = function() {\r\n        // subscribe to some channels\r\n        // ws.send(JSON.stringify({\r\n        //     //.... some message the I must send when I connect ....\r\n        // }));\r\n    };\r\n\r\n    ws.onmessage = function(e) {\r\n        // console.log('Message:', e.data);\r\n    };\r\n\r\n    ws.onclose = function(e) {\r\n        console.log('Socket is closed. Reconnect will be attempted in 1 second.', e.reason);\r\n        setTimeout(function() {\r\n            wsConnect();\r\n        }, 1000);\r\n    };\r\n\r\n    ws.onerror = function(err:any) {\r\n        console.error('Socket encountered error: ', err.message, 'Closing socket');\r\n        ws.close();\r\n    };\r\n    return ws\r\n};\r\n","import {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\n\r\nexport const getMessages = (state: AppStateType) => state.chat.messages\r\n","import {WebSocketMessageType} from \"../../../../../Redux/chatReducer\";\r\nimport style from \"../../Chat.module.css\";\r\nimport * as React from \"react\";\r\nimport {PATH} from \"../../../../common/routes/Routes\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\ninterface IProps {\r\n    message: WebSocketMessageType\r\n}\r\n\r\nexport const WebSocketMessage:React.FC<IProps> = ( { message }) => {\r\n    return (\r\n        <div className={ style.messageFrame }>\r\n            <NavLink to={ `${ PATH.PROFILE + message.userId }` }>\r\n            <div className={ style.description }>\r\n                <img src={ message.photo } alt={ message.userId.toString () }/>\r\n                <span>{ message.userName }</span>\r\n            </div>\r\n            </NavLink>\r\n            <span className={ style.body }>{ message.message }</span>\r\n        </div>\r\n    );\r\n};","import * as React from \"react\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport style from \"../Chat.module.css\";\r\nimport {createField, Textarea} from \"../../../common/formsContols/FormControls\";\r\nimport {requiredField} from \"../../../../utils/validators\";\r\nimport Button from \"../../../common/Button/Button\";\r\n\r\n\r\ntype PropsType = {\r\n    disabled: boolean\r\n}\r\nexport type WebsocketMessagesFormType = {\r\n    newMessageBody: string\r\n    validate: any[]\r\n}\r\nconst Form: React.NamedExoticComponent<InjectedFormProps<WebsocketMessagesFormType, PropsType> & PropsType> = React.memo ( (props) => {\r\n    const {handleSubmit, disabled} = props;\r\n    return (\r\n        <form className={ style.form } onSubmit={ handleSubmit }>\r\n            { createField ( 'enter new message here', 'newMessageBody', [requiredField], Textarea, {type: 'text'} ) }\r\n            <Button disabled={ disabled } text={ 'send message' }/>\r\n        </form>\r\n    );\r\n} );\r\nexport const WebsocketNewMessagesForm = reduxForm<WebsocketMessagesFormType, PropsType> ( {form: 'websocketPostMessageForm'} ) ( Form );","import * as React from 'react';\r\nimport {useEffect, useRef, useState} from 'react';\r\nimport style from \"./Chat.module.css\";\r\nimport {FormattedMessage} from \"../../common/FormattedMessage/FormattedMessage\";\r\nimport {wsConnect} from \"./Websocket\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getMessages as getMessagesSelector} from \"../../../utils/selectors/chat-selectors\";\r\nimport {actionsChat, WebSocketMessageType} from \"../../../Redux/chatReducer\";\r\nimport {reset} from \"redux-form\";\r\nimport classNames from \"classnames\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport {WebSocketMessage} from \"./WebsocketNewMessage/WebsocketMessage/WebSocketMessage\";\r\nimport {WebsocketMessagesFormType, WebsocketNewMessagesForm} from \"./WebsocketNewMessage\";\r\n\r\n\r\nexport const Chat: React.FC<{}> = () => {\r\n    const [isActive, setIsActive] = useState ( false );\r\n    const [ws, setWS] = useState<WebSocket | null> ( null );\r\n    const messages = useSelector ( getMessagesSelector );\r\n    const dispatch = useDispatch ();\r\n    const chatRef = useRef<HTMLDivElement> ( null );\r\n    const setMessagesCallback = (newMessages: WebSocketMessageType[]) => {\r\n        dispatch ( actionsChat.setMessages ( newMessages ) );\r\n    };\r\n\r\n\r\n    const openChat = () => {\r\n        setIsActive ( true );\r\n        if (ws) {\r\n            setTimeout ( () => chatRef.current?.scrollTo ( 0, chatRef.current.scrollHeight ), 1000 );\r\n        }\r\n    };\r\n\r\n\r\n    useEffect ( () => {\r\n        setWS ( wsConnect () );\r\n        const onListener = (messageEvent: any) => {\r\n            setMessagesCallback ( [...messages, ...JSON.parse ( messageEvent.data )] );\r\n        };\r\n        ws?.addEventListener ( 'message', onListener );\r\n        return () => {\r\n            ws?.removeEventListener ( 'message', onListener );\r\n            ws?.close ();\r\n        };\r\n    }, [] );\r\n\r\n    if (ws) {\r\n        ws.onmessage = (messageEvent) => {\r\n            setMessagesCallback ( [...messages, ...JSON.parse ( messageEvent.data )] );\r\n            chatRef.current?.scrollTo ( 0, chatRef.current.scrollHeight );\r\n        };\r\n    }\r\n    const closeChat = () => {\r\n        setIsActive ( false );\r\n\r\n    };\r\n\r\n    const onSubmit = (form: WebsocketMessagesFormType) => {\r\n        const message = form.newMessageBody;\r\n        if (message && message.trim ()) {\r\n            ws?.send ( message.trim () );\r\n            dispatch ( reset ( 'websocketPostMessageForm' ) );\r\n        }\r\n    };\r\n\r\n\r\n    const mappedMessages = messages.map ( m => {\r\n        return (\r\n            <WebSocketMessage key={ uuidv4() } message={ m }/>\r\n        );\r\n    } );\r\n\r\n    return (\r\n        <div className={ `${ style.chatWrapper } ${ isActive && style.active }` }>\r\n            <div onClick={ isActive ? closeChat : openChat }\r\n                 className={ classNames ( style.title, isActive && style.activeTitle ) }>\r\n                <FormattedMessage _id={ isActive ? \"chat.title\" : \"chat.handler\" }/>\r\n            </div>\r\n            <div className={ `${ style.chat } ${ isActive && style.activeChat }` }>\r\n                <div ref={ chatRef } className={ style.messages }>{ mappedMessages }</div>\r\n                <WebsocketNewMessagesForm disabled={ ws?.readyState === ws?.CLOSED } onSubmit={ onSubmit }/>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React from \"react\";\r\nimport s from './MainWrapper.module.css';\r\nimport NavigationBarContainer from \"./Navigation/NavigationBar.container\";\r\nimport Routes from \"../common/routes/Routes\";\r\nimport {Chat} from \"./Chat\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getIsAuth} from \"../../utils/selectors/auth-selectors\";\r\n\r\n\r\nexport function MainWrapper() {\r\n    const isAuth = useSelector(getIsAuth)\r\n\r\n    return (\r\n        <div className={ s.mainWrapper }>\r\n            <NavigationBarContainer/>\r\n            <Routes/>\r\n            {isAuth &&  <Chat/> }\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from \"react\";\r\nimport s from './Header.module.css'\r\nimport imageLogo from '../../images/5a3a185132ceb1.89894673151375675320812609.png'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {FormattedMessage} from \"../common/FormattedMessage/FormattedMessage\";\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logout: () => void\r\n}\r\n\r\nexport const Header = React.memo((props: HeaderPropsType) => {\r\n    return <>\r\n        <header className={ s.wrapperHeader }>\r\n            <div className={ s.circle }><img src={ imageLogo }/></div>\r\n            <div className={ s.headerString }><FormattedMessage _id={\"header.text\"}/></div>\r\n            <div className={ s.loginBlock }>\r\n                { !props.login\r\n                    ? <Redirect to={ '/login' }/>\r\n                    : <>\r\n                        <span className={s.loginSpan} onClick={ () => {\r\n                            props.logout ()\r\n                        } }>logout\r\n                        </span>\r\n                       {/* <Redirect to={ '/profile' }/>*/}\r\n                    </>\r\n                }\r\n            </div>\r\n\r\n        </header>\r\n    </>\r\n\r\n})\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {actionsAuth} from \"../../Redux/authReducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    userId: number | null\r\n}\r\n\r\ntype HeaderContainerPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    userId: number | null\r\n    logout: () => void\r\n}\r\n\r\nclass HeaderContainer extends React.PureComponent<HeaderContainerPropsType> {\r\n    render() {\r\n        return <Header logout={ this.props.logout } login={ this.props.login } isAuth={ this.props.isAuth }/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.data.login,\r\n        userId: state.auth.data.id\r\n    }\r\n}\r\n\r\nexport default connect ( mapStateToProps, {\r\n    logout:actionsAuth.logoutSaga\r\n} ) (\r\n    HeaderContainer );","import React from 'react';\r\nimport './App.css';\r\nimport {Footer} from \"./components/Footer/Footer\";\r\nimport {MainWrapper} from \"./components/MainWrapper/MainWrapper\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {actionsApp} from \"./Redux/appReducer\";\r\nimport {AppStateType} from \"./Redux/reduxStore\";\r\nimport Preloader from \"./components/common/preloader/Preloader\";\r\n\r\n\r\ntype AppPropsType = {\r\n    initialize: () => void\r\n    userId:number | null\r\n    isInitialized:boolean\r\n}\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n    componentDidMount() {\r\n            this.props.initialize ()\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.isInitialized) {\r\n            return <Preloader/>\r\n        }\r\n        else {\r\n        return (\r\n                <div className=\"App\">\r\n                    <HeaderContainer/>\r\n                    <MainWrapper/>\r\n                    <Footer/>\r\n                </div>\r\n        );\r\n    }\r\n}}\r\ntype MapStateToPropsType = {\r\n    isInitialized:boolean\r\n    userId:number |null\r\n}\r\n\r\nconst mapStateToProps = (state:AppStateType):MapStateToPropsType=>{\r\n    return {\r\n        isInitialized:state.app.isInitialized,\r\n        userId:state.profileReducer.profile.userId\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType> (\r\n    withRouter,\r\n    connect ( mapStateToProps, {initialize:actionsApp.initializeSaga} ) ) ( App );\r\n\r\n","import React from 'react';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from \"./Redux/reduxStore\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\n\r\nexport const rerenderEntireThree = () => {\r\n    ReactDOM.render(\r\n        <React.StrictMode>\r\n            <Provider store={store}>\r\n                <HashRouter>\r\n                <App/>\r\n                </HashRouter>\r\n            </Provider>\r\n        </React.StrictMode>,\r\n        document.getElementById('root')\r\n    );\r\n}\r\n\r\nstore.subscribe(rerenderEntireThree);\r\nrerenderEntireThree();\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import {AppStateType} from \"../../Redux/reduxStore\";\r\nimport {createSelector} from \"reselect\";\r\nimport {getProfileId} from \"./profile-selectors\";\r\n\r\n\r\nexport const getIsAuth = (state: AppStateType) => state.auth.isAuth\r\nexport const getProfileName = (state:AppStateType)=>state.auth.data.login\r\nexport const getMyLoginId = (state:AppStateType)=>state.auth.data.id\r\nexport const getAuthError = (state:AppStateType)=>state.auth.error\r\nexport const getOwnerId = (state:AppStateType)=>state.auth.data.id\r\n\r\nexport const isOwnerSelector = createSelector ( [getOwnerId,getProfileId], (\r\n    ownerId,profileId\r\n) => {\r\n    return {isOwner:ownerId === profileId\r\n}\r\n})","import React from \"react\";\r\nimport style from \"./Error_404.module.css\"\r\n\r\nexport const Error_404:React.FC= (props)=>{\r\n    return (\r\n        <>\r\n            <div className={ style.mainbox }>\r\n                <div className={ style.err }>4</div>\r\n                <div className={ style.far} >0</div>\r\n                <div className={ style.err2 }>4</div>\r\n                <div className={ style.msg }>Maybe this page moved? Got deleted? Is hiding out in quarantine? Never existed in\r\n                    the first place?<p>Let's go <a href=\"#\">home</a> and try from there.</p></div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React, {Suspense} from \"react\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport {Error_404} from \"../errors/Error_404/Error_404\";\r\nimport Preloader from \"../preloader/Preloader\";\r\n\r\nconst Profile = React.lazy ( () => import('../../MainWrapper/Profile/ProfileContainer') );\r\nconst Dialogs = React.lazy ( () => import('../../MainWrapper/DialogsContainer/DialogsContainer') );\r\nconst Users = React.lazy ( () => import('../../MainWrapper/Users/UserPage.container') );\r\nconst NewsFeed = React.lazy ( () => import('../../MainWrapper/NewsFeed/NewsFeedContainer') );\r\nconst AudioPage = React.lazy ( () => import('../../MainWrapper/AudioPage/AudioPage') );\r\nconst Settings = React.lazy ( () => import('../../MainWrapper/Settings/Settings') );\r\nconst Login = React.lazy ( () => import('../login/LoginContainer') );\r\n\r\nexport const PATH = {\r\n    SLASH: '/',\r\n    PROFILE: '/profile',\r\n    DIALOGS: '/dialogs',\r\n    USERS: '/users',\r\n    NEWS: '/news',\r\n    AUDIO: '/audio',\r\n    SETTINGS: '/settings',\r\n    LOGIN: '/login',\r\n    ERROR_UNKNOWN_PAGE: '/abracadabra',\r\n}\r\n\r\n\r\nconst Routes: React.FC = React.memo ( () => {\r\n    return (\r\n        <Suspense fallback={ <Preloader/> }>\r\n            <Switch>\r\n                <Route exact path={ PATH.SLASH } render={ () => <Profile/> }/>\r\n                <Route path={ PATH.PROFILE + ':userId?' } render={ () => <Profile/> }/>\r\n                <Route path={ PATH.DIALOGS + ':userId?' } render={ () => <Dialogs/> }/>\r\n                <Route path={ PATH.DIALOGS } render={ () => <Dialogs/> }/>\r\n                <Route path={ PATH.USERS } render={ () => <Users/> }/>\r\n                <Route path={ PATH.NEWS } render={ () => <NewsFeed/> }/>\r\n                <Route path={ PATH.AUDIO } render={ () => <AudioPage/> }/>\r\n                <Route path={ PATH.SETTINGS } render={ () => <Settings/> }/>\r\n                <Route path={ PATH.LOGIN } render={ () => <Login/> }/>\r\n                <Route render={ () => <Error_404/> }/>\r\n            </Switch>\r\n        </Suspense>\r\n    )\r\n} )\r\nexport default Routes;","import {InferActionsType} from \"./reduxStore\";\r\nimport React from \"react\";\r\nimport {ArticleType} from \"../api/newsAPI\";\r\nimport {NEWS} from \"./consts\";\r\n\r\n\r\n//types\r\nexport type InitialStateFromAppType = {\r\n    articles: ArticleType[]\r\n    totalResults: number\r\n    isFetching: boolean\r\n    portionNumber: number\r\n    pageSize: number\r\n    page: number\r\n}\r\n\r\nexport type AppActionsTypes = InferActionsType<typeof actionsNews>\r\n//ac\r\nexport const actionsNews = {\r\n    getNewsSaga:(theme:string)=>{\r\n        return {type:NEWS.GET_NEWS_SAGA,payload:{theme}}\r\n    },\r\n    setNews: (articles: ArticleType[], totalResults: number) => {\r\n        return {type: NEWS.SET_NEWS, payload: {articles, totalResults}} as const\r\n    },\r\n    setIsFetching: (isFetching: boolean) => {\r\n        return {type: NEWS.SET_IS_FETCHING, payload: {isFetching}} as const\r\n    },\r\n    setPage: (page: number) => {\r\n        return {type: NEWS.SET_PAGE, payload: {page}} as const\r\n    },\r\n    setPageSize: (pageSize: number) => {\r\n        return {type: NEWS.SET_PAGE_SIZE, payload: {pageSize}} as const\r\n    },\r\n    setPortionNumber: (portionNumber: number) => {\r\n        return {type: NEWS.SET_PORTION_NUMBER, payload: {portionNumber}} as const\r\n    }\r\n}\r\n//tc\r\n/*export const getNews = (theme: string): AppThunk => async (dispatch, getState) => {\r\n    const pageSize = getState ().news.pageSize\r\n    const page = getState ().news.page\r\n\r\n    dispatch ( actionsNews.setIsFetching ( true ) )\r\n    try {\r\n        const response = await NewsAPI.getNews ( new Date (), theme, pageSize, page )\r\n        const {totalResults, articles} = response.data\r\n        dispatch ( actionsNews.setNews ( articles, totalResults ) )\r\n\r\n    } catch (e) {\r\n        console.log ( e )\r\n    } finally {\r\n        dispatch ( actionsNews.setIsFetching ( false ) )\r\n    }\r\n\r\n\r\n}*/\r\n\r\n//state\r\nconst initialState: InitialStateFromAppType = {\r\n    articles: [],\r\n    totalResults: 0,\r\n    isFetching: false,\r\n    page: 1,\r\n    pageSize: 10,\r\n    portionNumber: 1\r\n}\r\n//reducer\r\nconst newsReducer = (state = initialState, action: AppActionsTypes): InitialStateFromAppType => {\r\n    switch (action.type) {\r\n        case NEWS.SET_NEWS:\r\n        case NEWS.SET_IS_FETCHING:\r\n        case NEWS.SET_PAGE:\r\n        case NEWS.SET_PAGE_SIZE:\r\n        case NEWS.SET_PORTION_NUMBER:\r\n            return {\r\n                ...state, ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n//export default\r\nexport default newsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigationBar\":\"NavigationBar_navigationBar__2tIfJ\",\"NavElements\":\"NavigationBar_NavElements__3yVvN\",\"activeFriends\":\"NavigationBar_activeFriends__32KMW\",\"backGroundBlock\":\"NavigationBar_backGroundBlock__3SfIA\",\"iconBlock\":\"NavigationBar_iconBlock__AkkqX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainbox\":\"Error_404_mainbox__1SVB0\",\"err\":\"Error_404_err__Pig8f\",\"far\":\"Error_404_far__2Iq0T\",\"err2\":\"Error_404_err2__3-yNJ\",\"msg\":\"Error_404_msg__3-1-G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperHeader\":\"Header_wrapperHeader__2nl57\",\"headerString\":\"Header_headerString__3ToF1\",\"circle\":\"Header_circle__3vHoc\",\"loginBlock\":\"Header_loginBlock__3V74n\",\"loginSpan\":\"Header_loginSpan__Rtyru\"};","import {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\nexport const newsPortionNumberSelector = (state: AppStateType) => state.news.portionNumber\r\nexport const newsPageSizeSelector = (state: AppStateType) => state.news.pageSize\r\nexport const newsPageSelector = (state: AppStateType) => state.news.page\r\nexport const newsIsFetchingSelector = (state: AppStateType) => state.news.isFetching\r\nexport const newsTotalCountSelector = (state: AppStateType) => state.news.totalResults\r\nexport const newsArticlesSelector = (state: AppStateType) => state.news.articles","import {AppStateType} from \"../../Redux/reduxStore\";\r\nimport {createSelector} from \"reselect\";\r\n\r\n\r\nexport const messagesPortionNumberSelector = (state: AppStateType) => state.dialogsReducer.portionNumber;\r\nexport const messagesPageSizeSelector = (state: AppStateType) => state.dialogsReducer.pageSize;\r\nexport const messagesPageSelector = (state: AppStateType) => state.dialogsReducer.page;\r\nexport const messagesIsFetchingSelector = (state: AppStateType) => state.dialogsReducer.isFetching;\r\nexport const messagesTotalCountSelector = (state: AppStateType) => state.dialogsReducer.totalResults;\r\n\r\nexport const getMessages = (state: AppStateType) => state.dialogsReducer.messages;\r\nexport const getDialogs = (state: AppStateType) => state.dialogsReducer.dialogs;\r\nexport const getFullName = (state: AppStateType) => state.profileReducer.profile.fullName;\r\nexport const difficultGetMessagesSelector = createSelector ( getMessages, (messages) => messages.filter ( m => m ) );\r\n\r\nconst commonMessagesPaginatorSelector = createSelector ( [\r\n    messagesPageSelector,\r\n    messagesPageSizeSelector,\r\n    messagesIsFetchingSelector,\r\n    messagesPortionNumberSelector,\r\n    messagesTotalCountSelector], (page, pageSize, isFetching, portionNumber, totalCount) => ({\r\n    page,\r\n    pageSize,\r\n    isFetching,\r\n    portionNumber,\r\n    totalCount,\r\n}) );\r\n\r\nexport const commonDialogsSelector = createSelector ( [\r\n    commonMessagesPaginatorSelector, getMessages, getDialogs], (paginatorProps, messages, dialogs) => ({\r\n    ...paginatorProps, messages, dialogs,\r\n}) );","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textArea\":\"FormControls_textArea__27tXa\",\"error\":\"FormControls_error__3padn\",\"blinker\":\"FormControls_blinker__3azrf\",\"span\":\"FormControls_span__28AF2\"};","export default __webpack_public_path__ + \"static/media/285 (1).e6645073.gif\";","import React from \"react\";\r\nimport style from \"./Preloader.module.css\";\r\nimport preloader from \"../../../images/285 (1).gif\";\r\n\r\ntype Props = {}\r\n\r\nconst Preloader: React.FC<Props> = React.memo((props) => {\r\n    return <div className={ style.preloader }><img src={ preloader } alt=\"preloader\"/></div>\r\n})\r\nexport default Preloader;\r\n","import {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\nexport const getNavLinkBar = (state:AppStateType)=>{\r\n    return state.navBarReducer.navLinkBar\r\n}\r\n\r\nexport const getFriendsIcons = (state:AppStateType)=>{\r\n    return state.navBarReducer.friendsIcons\r\n}\r\n\r\n","import * as newsSelectors  from './news-selectors';\r\nimport * as dialogsSelectors  from './dialogs-selectors';\r\nimport * as navSelectors  from './nav-selectors';\r\nimport * as usersSelectors  from './users-selectors';\r\nimport * as authSelectors  from './auth-selectors';\r\nimport * as profileSelectors  from './profile-selectors';\r\n\r\nconst selectors = {\r\n    newsSelectors,\r\n    navSelectors,\r\n    dialogsSelectors,\r\n    usersSelectors,\r\n    authSelectors,\r\n    profileSelectors,\r\n}\r\n\r\nexport default selectors;","import {AppStateType} from \"../../Redux/reduxStore\";\r\n\r\n\r\nexport const getProfile = (state: AppStateType) => state.profileReducer\r\nexport const getIsFetchingProfile = (state:AppStateType)=>state.profileReducer.isFetching\r\nexport const getIsOpenMenuProfile = (state:AppStateType)=>state.profileReducer.isOpenMenu\r\nexport const getPhotosProfile = (state:AppStateType)=>state.profileReducer.profile.photos\r\nexport const getProfileId = (state:AppStateType)=>state.profileReducer.profile.userId","import {Field, Validator, WrappedFieldProps} from \"redux-form\";\r\nimport React, {ReactElement} from \"react\";\r\nimport style from './FormControls.module.css'\r\n\r\n\r\nconst FormControl: React.FC<WrappedFieldProps> = React.memo((props) => {\r\n    const hasError = props.meta.touched && props.meta.error;\r\n    return (\r\n        <div>\r\n            <div className={ `${ style.textArea } ${ hasError && style.error }` }>\r\n                { props.children }\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nconst FormControlWithoutTouched: React.FC<WrappedFieldProps> = React.memo((props) => {\r\n    return (\r\n        <div>\r\n            <div className={ `${ style.textArea }` }>\r\n                { props.children }\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = React.memo((props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormControl  { ...props }>\r\n            <textarea { ...input } { ...restProps }/>\r\n        </FormControl>\r\n    )\r\n})\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = React.memo((props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormControl  { ...props }>\r\n            <input { ...input } { ...restProps }/>\r\n        </FormControl>\r\n    )\r\n})\r\n\r\nexport const TextareaWithoutTouched: React.FC<WrappedFieldProps> = React.memo((props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormControlWithoutTouched  { ...props }>\r\n            <textarea { ...input } { ...restProps }/>\r\n        </FormControlWithoutTouched>\r\n    )\r\n})\r\n\r\nexport const InputWithoutTouched: React.FC<WrappedFieldProps> = React.memo((props) => {\r\n    const {input, meta, children, ...restProps} = props;\r\n    return (\r\n        <FormControlWithoutTouched  { ...props }>\r\n            <input { ...input } { ...restProps }/>\r\n        </FormControlWithoutTouched>\r\n    )\r\n})\r\n\r\n\r\nexport function createField<FormsKeysType extends string>(placeholder: string | undefined,\r\n                                           name: FormsKeysType,\r\n                                           validators: Validator[],\r\n                                           component: React.FC<WrappedFieldProps>,\r\n                                           props = {}, text = '') {\r\n    return (\r\n        <>\r\n            <Field placeholder={ placeholder }\r\n                   name={ name }\r\n                   validate={ validators }\r\n                   component={ component }\r\n                   { ...props } />\r\n            <span className={ style.span }>{ text }</span>\r\n        </>\r\n    )\r\n}"],"sourceRoot":""}